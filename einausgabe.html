

<!DOCTYPE html>


<html lang="de" data-content_root="" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>7. Ein- und Ausgabe &#8212; Einführung in Prinzipien der Programmierung</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=5b4479735964841361fd" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=5b4479735964841361fd" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=5b4479735964841361fd" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=5b4479735964841361fd" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd" />
  <script src="_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=5b4479735964841361fd"></script>

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/translations.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'einausgabe';</script>
    <link rel="index" title="Stichwortverzeichnis" href="genindex.html" />
    <link rel="search" title="Suche" href="search.html" />
    <link rel="next" title="8. Numerische Programmbibliotheken am Beispiel von NumPy/SciPy" href="scipy.html" />
    <link rel="prev" title="6. Zusammengesetzte Datentypen" href="sequenzen.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="de"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="intro.html">
  
  
  
  
  
  
    <p class="title logo__title">Einführung in Prinzipien der Programmierung</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="einleitung.html">1. Einleitung</a></li>
<li class="toctree-l1"><a class="reference internal" href="vorschau.html">2. Eine Vorschau</a></li>
<li class="toctree-l1"><a class="reference internal" href="datentypen.html">3. Einfache Datentypen, Variablen und Zuweisungen</a></li>
<li class="toctree-l1"><a class="reference internal" href="kontrollstrukturen.html">4. Kontrollstrukturen</a></li>
<li class="toctree-l1"><a class="reference internal" href="funktionen.html">5. Funktionen</a></li>
<li class="toctree-l1"><a class="reference internal" href="sequenzen.html">6. Zusammengesetzte Datentypen</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">7. Ein- und Ausgabe</a></li>
<li class="toctree-l1"><a class="reference internal" href="scipy.html">8. Numerische Programmbibliotheken am Beispiel von NumPy/SciPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="objektorientiert.html">9. Objektorientiertes Programmieren</a></li>
<li class="toctree-l1"><a class="reference internal" href="zahlensysteme.html">10. Anhang: Zahlensysteme</a></li>
<li class="toctree-l1"><a class="reference internal" href="floats.html">11. Anhang: 64-Bit-Gleitkommazahlen nach IEEE-Standard 754</a></li>
<li class="toctree-l1"><a class="reference internal" href="unicode.html">12. Anhang: Unicode</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-launch-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Launch interactive content">
    <i class="fas fa-rocket"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://mybinder.org/v2/git/https//github.com/gertingold/epriprog/master?urlpath=tree/epriprog/einausgabe.md" target="_blank"
   class="btn btn-sm dropdown-item"
   title="Launch onBinder"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  
    <img src="_static/images/logo_binder.svg">
  </span>
<span class="btn__text-container">Binder</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Laden Sie diese Seite herunter">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/einausgabe.ipynb" target="_blank"
   class="btn btn-sm btn-download-notebook-button dropdown-item"
   title="Notebook-Datei herunterladen"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-code"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li><a href="_sources/einausgabe.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Quelldatei herunterladen"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="In PDF drucken"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Vollbildmodus"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Suche" aria-label="Suche" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Ein- und Ausgabe</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Inhalt </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eingabe-uber-die-kommandozeile-und-die-tastatur">7.1. Eingabe über die Kommandozeile und die Tastatur</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lesen-von-dateien">7.2. Lesen von Dateien</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#schreiben-von-dateien">7.3. Schreiben von Dateien</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="ein-und-ausgabe">
<span id="einausgabe"></span><h1><span class="section-number">7. </span>Ein- und Ausgabe<a class="headerlink" href="#ein-und-ausgabe" title="Permalink to this heading">#</a></h1>
<p>Ein Programm, das eine sinnvolle Aufgabe bearbeitet, wird immer in irgendeiner Weise
kommunizieren, also Informationen entgegennehmen und insbesondere die Resultate
ausgeben. Für beiden Prozesse sind verschiedene Szenarien denkbar.</p>
<p>Im <a class="reference internal" href="vorschau.html#vorschau"><span class="std std-numref">Kapitel 2</span></a> hatten wir bereits die <code class="xref py py-func docutils literal notranslate"><span class="pre">input()</span></code>-Funktion
kennengelernt, die es erlaubt, aus dem Programm heraus den Benutzer um eine
Eingabe zu bitten. Eine Alternative wäre die Angabe von Parametern direkt beim
Aufruf des Programms von der Kommandozeile. Auch die Verwendung eines
graphischen Benutzerinterfaces ist denkbar.</p>
<p>Bei komplexeren Problemstellungen ist es aber häufig nicht sinnvoll, alle
Parameter per Hand einzugeben, und vor allem diesen Prozess beim Programmstart
jedes Mal durchlaufen zu müssen. Dann ist es sinnvoller, vom Programm benötigte
Informationen in einer Datei zu hinterlegen und dann vom Programm einlesen zu
lassen. In manchen Fällen kann es auch sinnvoll oder erforderlich sein, Daten
aus dem Internet in das Programm zu laden.</p>
<p>Auch die Ausgabe von Ergebnissen kann auf verschiedene Weise erfolgen. In unseren
Beispielen haben wir bisher die Möglichkeit genutzt, Daten auf dem Bildschirm
auszugeben. Benutzt man ein graphisches Benutzerinterface, könnte man auch dort
Informationen ausgeben. Größere Datenmengen wird man dagegen in den meisten Fällen
in einer Datei abspeichern. Natürlich ist es auch möglich, die Ausgabe ins Internet
zu senden, eine Aufgabe, die jeder Webserver erledigt.</p>
<p>Gerade im natur- und ingenieurwissenschaftlichen Bereich, aber auch in anderen
Bereichen, die mit großen Datenmengen umgehen müssen, wird man die Daten oft
grafisch geeignet darstellen. Hier stellt sich häufig die Frage, ob man für die
Grafik benötigte Daten zunächst abspeichert oder aber direkt weiterverarbeitet.
Ein wesentlicher Faktor wird dabei der Aufwand für die Erzeugung der Daten sein.
Es ist sehr ärgerlich, die Ergebnisse einer mehrtägigen Rechnung nur deswegen
zu verlieren, weil man in der Auswertung oder der Erzeugung der Grafik einen Fehler
eingebaut hat. Können die Daten dagegen sehr schnell erzeugt werden, kann der
Weg über eine Zwischenspeicherung der Daten lästig sein, beispielsweise wenn
man schnell die Auswirkung von Parameteränderungen im Ergebnis ansehen möchte.</p>
<p>Wie schon aus diesen einleitenden Bemerkungen deutlich wird, kann die Ein- und Ausgabe
von Daten ein im Detail komplexes Thema sein. Wir wollen im Folgenden zunächst relativ
knapp auf die Eingabe über die Kommandozeile und die Tastatur eingehen und auch
noch einmal einen kurzen Blick auf die <code class="xref py py-func docutils literal notranslate"><span class="pre">print()</span></code>-Funktion werfen. Danach werden
wir uns vor allem mit dem Lesen und Schreiben von Dateien beschäftigen. Für speziellere
Aspekte werden wir in weiterführenden Hinweisen zeigen, dass Python für viele der
potentiell anfallenden Aufgaben nützliche Module in der Standardbibliothek bereit hält.</p>
<section id="eingabe-uber-die-kommandozeile-und-die-tastatur">
<span id="commandline"></span><h2><span class="section-number">7.1. </span>Eingabe über die Kommandozeile und die Tastatur<a class="headerlink" href="#eingabe-uber-die-kommandozeile-und-die-tastatur" title="Permalink to this heading">#</a></h2>
<p>Wenn man Programme von der Kommandozeile aufruft, ist es nicht unüblich, dabei Parameter
zu übergeben. Programmiersprachen wie Fortran, C und Python bieten die Möglichkeit,
auf diese Parameter innerhalb des Programms zuzugreifen. Die Alternative, solche Parameter
im Programmcode selbst zu definieren, hat den Nachteil, dass man zur Änderung eines
Parameters den Code verändern muss, was im Allgemeinen keine gute Idee ist, unter anderem
weil man dabei vielleicht andere unbeabsichtigte Änderungen am Programm vornehmen könnte.</p>
<p>Wir demonstrieren das Vorgehen mit einem kleinen Beispielprogramme namens
<code class="docutils literal notranslate"><span class="pre">beispiel_1.py</span></code>, das einen vom Benutzer vorgegebenen Text mehrfach ausgeben kann. Das
erste Argument beim Aufruf soll der Text sein, das zweite Argument gibt dann die
Zahl der Wiederholungen an.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1"># beispiel_1.py</span>
<span class="linenos">2</span><span class="kn">import</span> <span class="nn">sys</span>
<span class="linenos">3</span>
<span class="linenos">4</span><span class="nb">print</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
<span class="linenos">5</span><span class="nb">str</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="linenos">6</span><span class="n">nmax</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="linenos">7</span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nmax</span><span class="p">):</span>
<span class="linenos">8</span>    <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
</pre></div>
</div>
<p>Wir verwenden hier das <code class="docutils literal notranslate"><span class="pre">argv</span></code>-Attribute aus dem <code class="docutils literal notranslate"><span class="pre">sys</span></code>-Modul der Python-Standardbibliothek.
Hierbei steht <code class="docutils literal notranslate"><span class="pre">argv</span></code> für <em>argument vector</em>. In Zeile 4 geben wir dieses Attribut zunächst
aus, um zu sehen, was es alles enthält. Anschließend bestimmen wir aus zwei Einträgen in
diesem Attribut in den Zeilen 5 und 6 den auszugebenden Text und die Zahl der Wiederholungen.</p>
<p>Führen wir das Programm <code class="docutils literal notranslate"><span class="pre">beispiel_1.py</span></code> mit den Parametern <code class="docutils literal notranslate"><span class="pre">hallo</span></code> und <code class="docutils literal notranslate"><span class="pre">3</span></code> aus, so erhalten wir die
folgende Ausgabe.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span>$ python beispiel_1.py Hallo 3
<span class="linenos">2</span>[&#39;beispiel_1.py&#39;, &#39;Hallo&#39;, &#39;3&#39;]
<span class="linenos">3</span>Hallo
<span class="linenos">4</span>Hallo
<span class="linenos">5</span>Hallo
</pre></div>
</div>
<p>Zeile 1 gibt nach dem $-Prompt nochmals die Eingabe an, und dann folgt in den Zeilen 2 bis 5
die erzeugte Ausgabe. In Zeile 2 sehen wir, dass <code class="docutils literal notranslate"><span class="pre">sys.argv</span></code> eine Liste enthält, deren erster
Eintrag dem Namen des Python-Skripts entspricht, dem sich in den folgenden Einträgen die
angegebenen Parameter anschließen. Wie wir sehen, sind die alle Einträge Zeichenketten. Damit
erklärt sich, warum wir in Zeile 6 unseres Beispielskripts eine Umwandlung in einen Integer
vornehmen mussten. Die obigen Zeilen 3 bis 5 enthalten dann die erwartete Ausgabe, nämlich
dreimal den Text <code class="docutils literal notranslate"><span class="pre">Hallo</span></code>.</p>
<div class="admonition-weiterfuhrender-hinweis admonition">
<p class="admonition-title">Weiterführender Hinweis</p>
<p>Es kann vorkommen, dass die Zahl der Parameter deutlich größer ist als in unserem kleinen Beispiel
und dass für eine Reihe von Parametern Defaultwerte definiert sind. Man wird dann meistens nur
eine reduzierte Zahl von Parametern angeben, die entsprechend gekennzeichnet werden müssen, um
eine eindeutige Zuordnung zu erlauben. Diese Situation ähnelt dem was wir im <a class="reference internal" href="funktionen.html#kwargs"><span class="std std-numref">Kapitel 5.7</span></a>
für Funktionsaufrufe mit Schlüsselworten und Defaultwerten kennengelernt hatten. In solchen
Fällen ist es ratsam, sich das <a class="reference external" href="https://docs.python.org/3/library/argparse.html"><code class="docutils literal notranslate"><span class="pre">argparse</span></code>-Modul</a>
der Python-Standardbibliothek anzusehen. Da dieses Modul relativ komplexe Möglichkeiten bietet, steht
auch ein spezielles <a class="reference external" href="https://docs.python.org/3/howto/argparse.html">Tutorial</a> zur Verfügung.</p>
</div>
<p>Alternativ zur Angabe von Parametern beim Programmaufruf kann man die Parameter auch durch
das Programm abrufen lassen. Hierzu dient die <code class="xref py py-func docutils literal notranslate"><span class="pre">input()</span></code>-Funktion, die wir bereits in
<a class="reference internal" href="vorschau.html#vorschau"><span class="std std-numref">Kapitel 2</span></a> kennengelernt haben. Auch hier ist wieder zu beachten, dass die Eingaben
im Programm als Zeichenketten vorliegen und je nach Bedarf umgewandelt werden müssen.</p>
<div class="warning admonition">
<p class="admonition-title">Warnhinweis</p>
<p>Man kann die über die <code class="xref py py-func docutils literal notranslate"><span class="pre">input()</span></code>-Funktion erhaltene Eingabe mit Hilfe der <code class="xref py py-func docutils literal notranslate"><span class="pre">eval()</span></code>-Funktion
auch als Python-Ausdruck auswerten lassen. Was auf den ersten Blick vielleicht vor allem
interessante Möglichkeiten verspricht, kann unter Umständen ein Sicherheitsrisiko sein.
Die unbesehene Ausführung von Code kann potentiell erheblichen Schaden anrichten, da es
aus einem Python-Programm heraus durchaus möglich ist, zum Beispiel Dateien zu löschen.</p>
</div>
<p>Sehen wir uns an, wie die <code class="xref py py-func docutils literal notranslate"><span class="pre">input()</span></code>-Funktion für eine alternative Implementierung unseres
Beispielprogramms genutzt werden kann.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="c1"># beispiel_2.py</span>
<span class="linenos">2</span><span class="nb">str</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s1">&#39;auszugebender Text: &#39;</span><span class="p">)</span>
<span class="linenos">3</span><span class="n">nmax</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">input</span><span class="p">(</span><span class="s1">&#39;Anzahl der Wiederholungen: &#39;</span><span class="p">))</span>
<span class="linenos">4</span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">nmax</span><span class="p">):</span>
<span class="linenos">5</span>    <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span>
</pre></div>
</div>
<p>Nach dem Aufruf des Programms werden nun die Parameter abgefragt, wobei die Anzahl der
Wiederholungen wiederum in einen Integer umgewandelt werden muss. Anschließend erfolgt
die mehrfache Ausgabe des eingegebenen Textes.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python beispiel_2.py
auszugebender Text: Hallo
Anzahl der Wiederholungen: 3
Hallo
Hallo
Hallo
</pre></div>
</div>
<p>Wir haben uns hier darauf beschränkt, das grundsätzliche Vorgehen zu demonstrieren. In der
Praxis wäre es natürlich in beiden Beispielen sinnvoll, Fehler abzufangen, zum Beispiel
für den Fall, dass sich die eingegebene Anzahl der Wiederholungen nicht in einen Integer
umwandeln lässt.</p>
<div class="admonition-weiterfuhrender-hinweis admonition">
<p class="admonition-title">Weiterführender Hinweis</p>
<p>Möchte man Parameter nicht auf der Kommandozeile oder allgemein in einem Terminalfenster
eingeben, sondern über eine graphische Benutzeroberfläche, so kann man sich in Python
Unterstützung in der Standardbibliothek in Form des
<a class="reference external" href="https://docs.python.org/3/library/tkinter.html"><code class="docutils literal notranslate"><span class="pre">tkinter</span></code>-Moduls</a> holen.</p>
</div>
<p>Nachdem wir uns bis jetzt auf die Eingabe konzentriert haben, wollen wir uns abschließend
noch kurz der Ausgabe mit Hilfe der <code class="xref py py-func docutils literal notranslate"><span class="pre">print()</span></code>-Funktion zuwenden. Diese Funktion
haben wir schon bei verschiedensten Gelegenheiten verwendet. Im <a class="reference internal" href="datentypen.html#formatierung"><span class="std std-numref">Kapitel 3.7</span></a>
hatten wir unter anderem auch gesehen, dass der standardmäßige Zeilenumbruch am Ende
der Ausgabe, durch den Parameter <code class="docutils literal notranslate"><span class="pre">end</span></code> durch eine andere Ausgabe ersetzt werden kann.</p>
<p>Wir wollen die print-Funktion nun nutzen, um einen allgemeinen Aspekt der
Ausgabe von Daten zu besprechen, der in der Praxis gelegentlich wichtig sein
kann.  Ein- und Ausgabeoperationen sind typischerweise sehr langsam im
Vergleich zu Rechenoperationen im Prozessor. Jede einzelne Ein- oder
Ausgabeoperation sofort auszuführen, würde daher die Abarbeitung des Programms
unnötig verzögern. Besser ist es zum Beispiel bei der Ausgabe von Daten, eine
gewisse Datenmenge in einem Puffer anzusammeln und dann den gesamten Datenblock
auszugeben. Praktisch bedeutet dies, dass man sich nicht darauf verlassen kann,
dass die von einer <code class="docutils literal notranslate"><span class="pre">print</span></code>-Anweisung angestoßene Ausgabeoperation sofort
vollständig ausgeführt wird. Für die <code class="docutils literal notranslate"><span class="pre">print</span></code>-Anweisung kann man eine sofortige
Ausführung jedoch erzwingen, indem man das Argument <code class="docutils literal notranslate"><span class="pre">flush</span></code> auf <code class="docutils literal notranslate"><span class="pre">True</span></code> setzt.</p>
<p>Da wir es hier mit zeitlichen Abläufen zu tun haben, illustrieren wir die Auswirkung
des Pufferns in einem Film. Wir verwenden dazu die <code class="docutils literal notranslate"><span class="pre">print</span></code>-Anweisung, aber
die Pufferung von Daten wird auch im nächsten Abschnitt noch einmal eine Rolle
spielen, wenn wir die Ausgabe von Daten in eine Datei besprechen.</p>
<video width="640" height="360" controls>
  <source src="https://gertingold.github.io/resources/flush.webm" type="video/webm">
Ihr Browser unterstützt nicht das video-Tag.
</video> 
</section>
<section id="lesen-von-dateien">
<span id="readfile"></span><h2><span class="section-number">7.2. </span>Lesen von Dateien<a class="headerlink" href="#lesen-von-dateien" title="Permalink to this heading">#</a></h2>
<p>Für einfache wissenschaftliche Problemstellungen mag es ausreichen, Parameter über
die Kommandozeile oder auf Anfrage des Programms einzugeben und die resultierenden
Daten am Bildschirm anzusehen. Oft wird es aber so sein, dass dieses Vorgehen aufgrund
des Umfangs der Daten nicht mehr sinnvoll ist. So kann es bereits zu umständlich
sein, zehn oder zwanzig Parameter immer wieder per Hand einzugeben und in manchen
Fällen kann die Zahl der Eingabeparameter deutlich größer sein. Man denke zum Beispiel
an Strukturdaten für quantenchemische Rechnungen. Die erzeugten Daten sind häufig sehr
umfangreich, so dass man sie für eine weitere Analyse abspeichern möchte. Dies gilt
besonders dann, wenn die Erzeugung der Daten sehr zeitaufwändig ist.</p>
<p>Wir wollen uns zunächst dem Lesen von Daten aus Dateien zuwenden. Das grundsätzliche
Vorgehen ähnelt dem beim Lesen eines Buches. So wie man das Buch zum Lesen aufschlagen
muss, muss man eine Datei zum Lesen zunächst öffnen. Anschließend kann man im Buch lesen,
wobei wir uns hier auf die Situation beschränken wollen, in der beginnend am Anfang
gelesen wird. Wie in einem Buch ist es zwar im Prinzip auch in einer Datei möglich, direkt
zu einer bestimmten Stelle zu springen, aber dies kommt in der Praxis vor allem im
Zusammenhang mit binären Dateien vor. Hier wollen wir uns dagegen auf Textdateien
beschränken, wobei Text nicht ausschließt, dass die Datei ausschließlich oder zum
Teil numerische Information enthält.</p>
<p>Genauso wie man ein Buch, nachdem man Teile oder den gesamten Inhalt gelesen hat, wieder
zuschlägt, sollte man auch eine Datei schließen. Im Prinzip wird dies von modernen
Betriebssystemen notfalls erledigt, aber es ist keine gute Praxis darauf zu hoffen,
dass jemand anderes für einen die Aufräumarbeit erledigt. Problematisch würde dies vor
allem, wenn man viele Bücher gleichzeitig aufschlägt oder viele Dateien gleichzeitig
öffnet.</p>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition seealso">
<p class="admonition-title">Siehe auch</p>
<p><a class="reference external" href="https://en.wikipedia.org/wiki/Foobar">Wikipedia-Eintrag zu Foobar</a>.</p>
</div>
</aside>
<p>Um eine Datei lesen zu können, muss diese Datei zunächst einmal existieren. Wir gehen
im Folgenden davon aus, dass es eine Datei mit dem Namen <code class="docutils literal notranslate"><span class="pre">foo.dat</span></code> im aktuellen Verzeichnis
gibt. Den Inhalt dieser Datei lassen wir uns hier mit einem sogenannten magischen Befehl
von Jupyter ausgeben.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">cat</span> foo.dat
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 1.37  2.59
10.3  -1.3
 5.8   2.0
</pre></div>
</div>
</div>
</div>
<p>Dann können wir diese Datei zum Lesen öffnen. Dabei erhalten wir ein Dateiobjekt zurück,
mit dem wir anschließend auf den Inhalt der Datei zugreifen können.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">datei</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;foo.dat&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">datei</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;_io.TextIOWrapper name=&#39;foo.dat&#39; mode=&#39;r&#39; encoding=&#39;UTF-8&#39;&gt;
</pre></div>
</div>
</div>
</div>
<p>Die <code class="docutils literal notranslate"><span class="pre">print</span></code>-Anweisung gibt hier nicht den Inhalt der Datei aus, die ja noch überhaupt nicht
gelesen wurde, sondern Information über das Dateiobjekt, das durch die Variable <code class="docutils literal notranslate"><span class="pre">datei</span></code>
repräsentiert wird. Wie wir sehen, erlaubt uns das Dateiobjekt tatsächlich Zugriff auf
unsere Datei <code class="docutils literal notranslate"><span class="pre">foo.dat</span></code>.</p>
<p>Der Zugriffsmodus ist <code class="docutils literal notranslate"><span class="pre">r</span></code>, was als Abkürzung für <em>read</em> andeutet, dass die
Datei zum Lesen geöffnet ist. Später werden wir noch andere Werte für den
Zugriffsmodus kennenlernen. Möchte man an dieser Stelle betonen, dass die Datei
nur zum Lesen geöffnet werden soll, kann man dies mit Hilfe des <code class="docutils literal notranslate"><span class="pre">mode</span></code>-Arguments
in der <code class="docutils literal notranslate"><span class="pre">open</span></code>-Anweisung tun. Da der Default aber der Lesezugriff ist, ist dies
nicht unbedingt erforderlich.</p>
<p>Schließlich ist noch die Textkodierung festgelegt. Standardmäßig wird die vom
Betriebssystem bevorzugte Kodierung verwendet, die in unserem Fall die
UTF-8-Kodierung ist, wie es heutzutage auf den meisten Systemen der Fall sein
dürfte. Sollte der zu lesende Text in einer anderen Kodierung vorliegen, so muss
man das <code class="docutils literal notranslate"><span class="pre">encoding</span></code>-Argument in der <code class="docutils literal notranslate"><span class="pre">open</span></code>-Anweisung entsprechend setzen.</p>
<p>Der Versuch, eine Datei zum Lesen zu öffnen, die überhaupt nicht existiert, führt
zu einem <code class="docutils literal notranslate"><span class="pre">FileNotFoundError</span></code>.</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">open</span><span class="p">(</span><span class="s1">&#39;nonexistent.dat&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">FileNotFoundError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">3</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;nonexistent.dat&#39;</span><span class="p">)</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.11.6/x64/lib/python3.11/site-packages/IPython/core/interactiveshell.py:310,</span> in <span class="ni">_modified_open</span><span class="nt">(file, *args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">303</span> <span class="k">if</span> <span class="n">file</span> <span class="ow">in</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">}:</span>
<span class="g g-Whitespace">    </span><span class="mi">304</span>     <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">305</span>         <span class="sa">f</span><span class="s2">&quot;IPython won&#39;t let you open fd=</span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2"> by default &quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">306</span>         <span class="s2">&quot;as it is likely to crash IPython. If you know what you are doing, &quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">307</span>         <span class="s2">&quot;you can use builtins&#39; open.&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">308</span>     <span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">310</span> <span class="k">return</span> <span class="n">io_open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="ne">FileNotFoundError</span>: [Errno 2] No such file or directory: &#39;nonexistent.dat&#39;
</pre></div>
</div>
</div>
</div>
<p>Wir wollen nun aber das bereits zuvor erzeugte Dateiobjekt <code class="docutils literal notranslate"><span class="pre">datei</span></code> nutzen, um
die Datei <code class="docutils literal notranslate"><span class="pre">foo.dat</span></code> zu lesen. Angesichts des in modernen Rechnern zur Verfügung
stehenden großen Hauptspeichers ist es in den meisten Fällen möglich, den
Inhalt der gesamten Datei in diesen Speicher zu laden. Dies lässt sich in
Python auf zwei Arten bewerkstelligen. Zunächst verwenden wir die <code class="docutils literal notranslate"><span class="pre">read</span></code>-Methode
des Dateiobjekts.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">inhalt</span> <span class="o">=</span> <span class="n">datei</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="n">inhalt</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39; 1.37  2.59\n10.3  -1.3\n 5.8   2.0\n&#39;
</pre></div>
</div>
</div>
</div>
<p>Wie wir sehen, wird der gesamte Inhalt in eine Zeichenkette geladen, wobei
die Zeilenumbrüche jeweils an dem Steuerzeichen <code class="docutils literal notranslate"><span class="pre">\n</span></code> erkennbar sind. Um diese
Steuerzeichen deutlich zu machen, haben wir hier nicht die <code class="xref py py-func docutils literal notranslate"><span class="pre">print()</span></code>-Funktion
zu Ausgabe verwendet.</p>
<p>Eine bequeme Methode, um diese Zeichenkette in einzelnen Zeilen zu zerlegen
stellt die <code class="xref py py-func docutils literal notranslate"><span class="pre">splitlines()</span></code>-Methode bereit.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">inhalt</span><span class="o">.</span><span class="n">splitlines</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39; 1.37  2.59&#39;, &#39;10.3  -1.3&#39;, &#39; 5.8   2.0&#39;]
</pre></div>
</div>
</div>
</div>
<p>Wir erhalten damit eine Liste, die die einzelnen Zeilen als Einträge enthält.</p>
<p>Was passiert nun, wenn wir versuchen, die Datei ein zweites Mal zu lesen?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">datei</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;&#39;
</pre></div>
</div>
</div>
</div>
<p>Das Ergebnis ist nun eine leere Zeichenkette. Wie lässt es sich erklären, dass
wir nicht unser voriges Ergebnis reproduzieren können? Man kann sich den Leseprozess
am besten veranschaulichen, wenn man sich das Lesen der Datei von einem
historischen Datenspeicher, einem Magnetband, vorstellt. Dort bewegt sich
ein Lesekopf entlang des Magnetbandes. Ganz entsprechend gibt es auch heute
noch einen Zeiger, der auf die aktuelle Position in der Datei verweist. Zu
Beginn des Leseprozesses steht dieser Zeiger am Beginn der Datei und nach dem
Lesen an deren Ende. Versucht man dann weiterzulesen, so erhält man keine Daten
mehr. Im Prinzip kann man den Zeiger zwar beliebig in der Datei neu positionieren,
aber diese Möglichkeiten werden bei Textdateien eigentlich nicht benötigt, da
wir ja die gesamte Datei bereits eingelesen haben und damit arbeiten können.</p>
<p>Da wir noch weitere Möglichkeiten demonstrieren wollen, Daten einzulesen, schließen
wir zunächst die Datei wieder um sie dann erneut zu öffnen.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">datei</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">datei</span><span class="o">.</span><span class="n">closed</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
</pre></div>
</div>
</div>
</div>
<p>Mit der ersten Zeile schließen wir die Datei. In der zweiten Zeile haben wir
dann zur Illustration abgeprüft, ob die Datei wirklich geschlossen ist.</p>
<p>Vor allem bei größeren Dateien möchte man vielleicht nicht die gesamte Datei
auf einmal laden, sondern diese zeilenweise lesen und verarbeiten. Iteriert
man in einer <code class="docutils literal notranslate"><span class="pre">for</span></code>-Schleife über das Dateiobjekt, so erhält man die einzelnen
Zeilen.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">datei</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;foo.dat&#39;</span><span class="p">)</span>
<span class="k">for</span> <span class="n">zeile</span> <span class="ow">in</span> <span class="n">datei</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">zeile</span><span class="p">)</span>
<span class="n">datei</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 1.37  2.59

10.3  -1.3

 5.8   2.0
</pre></div>
</div>
</div>
</div>
<p>An den ausgegebenen Leerzeilen erkennen wir, dass das Zeilenumbruchzeichen
am Ende der Zeile nicht entfernt wurde.</p>
<p>Um das Schließen der Datei unter allen Umständen, also selbst im Fehlerfall,
sicherzustellen, bedient man sich in Python normalerweise eines Kontext-Managers.
Das vorige Beispiel lässt sich dann folgendermaßen formulieren.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;foo.dat&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">datei</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">zeile</span> <span class="ow">in</span> <span class="n">datei</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">zeile</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> 1.37  2.59

10.3  -1.3

 5.8   2.0
</pre></div>
</div>
</div>
</div>
<p>Wir erkennen die gewohnte Struktur mit einem Schlüsselwort, das hier <code class="docutils literal notranslate"><span class="pre">with</span></code> lautet,
und einem Doppelpunkt am Ende der Zeile. Der darauf folgende eingerückte Block
läuft unter Kontrolle des Kontext-Managers, und es ist sichergestellt, dass am
Ende des Blocks die Datei geschlossen wird. Neu ist in der erste Zeile die
Konstruktion, die das Ergebnis der <code class="docutils literal notranslate"><span class="pre">open</span></code>-Anweisung mit Hilfe des Schlüsselworts
<code class="docutils literal notranslate"><span class="pre">as</span></code> der Variablen <code class="docutils literal notranslate"><span class="pre">datei</span></code> zuweist.</p>
<p>In unserem konkreten Beispiel möchte man sicherlich auf die einzelnen Gleitkommawerte
separat zugreifen, so dass man in der Praxis zunächst einmal die <code class="xref py py-func docutils literal notranslate"><span class="pre">split()</span></code>-Methode
auf jede Zeile anwendet. Dies funktioniert hier ohne Angabe eines Arguments, da
die Trennung dann an <em>white space</em>, also insbesondere Leerzeichen oder Tabulatorzeichen
erfolgt. Zudem werden solche Zeichen vollständig entfernt, und das schließt auch
das Steuerzeichen für den Zeilenumbruch mit ein.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;foo.dat&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">datei</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">zeile</span> <span class="ow">in</span> <span class="n">datei</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">zeile</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;1.37&#39;, &#39;2.59&#39;]
[&#39;10.3&#39;, &#39;-1.3&#39;]
[&#39;5.8&#39;, &#39;2.0&#39;]
</pre></div>
</div>
</div>
</div>
<p>Allerdings zeigt das Ergebnis, dass beim Einlesen zunächst einmal ausschließlich
Zeichenketten vorliegen. Es ist hier also noch erforderlich, die einzelnen
Zeilenbestandteile in den richtigen Datentyp umzuwandeln, hier also in Gleitkommazahlen.
Natürlich könnte man dazu über jede einzelne Liste iterieren und nach der Umwandlung
mit der <code class="xref py py-func docutils literal notranslate"><span class="pre">float()</span></code>-Funktion neue Listen aufbauen. In Python lässt sich das leichter
und übersichtlicher mit der <code class="xref py py-func docutils literal notranslate"><span class="pre">map()</span></code>-Funktion erledigen, wobei die folgende
<code class="docutils literal notranslate"><span class="pre">for</span></code>-Schleife lediglich zur Ausgabe dient.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">data</span> <span class="o">=</span> <span class="nb">map</span><span class="p">(</span><span class="nb">float</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;1.37&#39;</span><span class="p">,</span> <span class="s1">&#39;2.59&#39;</span><span class="p">])</span>
<span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="nb">type</span><span class="p">(</span><span class="n">d</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.37 &lt;class &#39;float&#39;&gt;
2.59 &lt;class &#39;float&#39;&gt;
</pre></div>
</div>
</div>
</div>
<p>Im Prinzip könnte man ähnlich vorgehen, wenn die einzelnen Einträge in einer
Zeile durch Kommas oder Semikolons getrennt sind. Solche Dateien begegnen einem
in der Praxis häufig, wenn Daten mit Excel erfasst wurden und dann im
CSV-Format abgespeichert wurden, wobei die Abkürzung CSV für <em>comma separated
values</em> steht. Anstatt das Einlesen selbst zu programmieren, bietet es sich
dann an, auf Funktionen aus der Python-Standardbibliothek zurückzugreifen, in
diesem Fall konkret auf das
<a class="reference external" href="https://docs.python.org/3/library/csv.html"><code class="docutils literal notranslate"><span class="pre">csv</span></code>-Modul</a>. Eine
Programmbibliothek, die diverse Eingabeformate einlesen kann und für das
Verarbeiten von strukturierten Daten in Python besonders gut geeignet ist, ist
<a class="reference external" href="https://pandas.pydata.org/">Pandas</a>.</p>
<div class="admonition-weiterfuhrender-hinweis admonition">
<p class="admonition-title">Weiterführender Hinweis</p>
<p>Große Mengen strukturierter Daten werden heute häufig im HDF5-Format gespeichert.
Dieses kann von <a class="reference external" href="https://pandas.pydata.org/">Pandas</a> gelesen werden. Wenn man
Pandas jedoch nicht zur Weiterverarbeitung der Daten verwenden möchte, ist es
sinnvoll, sich das <a class="reference external" href="https://www.h5py.org/"><code class="docutils literal notranslate"><span class="pre">h5py</span></code>-Paket</a> anzusehen.</p>
<p>Anstatt Parameter wie in <a class="reference internal" href="#commandline"><span class="std std-numref">Kapitel 7.1</span></a> beschrieben an ein Programm zu
übergeben, werden auch Konfigurationsdateien verwendet, wie man sie als <code class="docutils literal notranslate"><span class="pre">INI</span></code>-Dateien
in Windows kennt. Zum Lesen solcher Dateien stellt die Python-Standardbibliothek
das <a class="reference external" href="https://docs.python.org/3/library/configparser.html"><code class="docutils literal notranslate"><span class="pre">configparser</span></code>-Modul</a>
zur Verfügung.</p>
<p>Beliebte Formate für den Datenaustausch sind unter anderem XML (<em>eXtensible
Markup Language</em>) und JSON (<em>JavaScript Object Notation</em>). Auch diese
unterstützt Python in der Standardbibliothek mit einer Reihe von <a class="reference external" href="https://docs.python.org/3/library/xml.html">XML
verarbeitenden Modulen</a>
beziehungsweise dem
<a class="reference external" href="https://docs.python.org/3/library/json.html"><code class="docutils literal notranslate"><span class="pre">json</span></code>-Modul</a>.</p>
<p>Die genannten Pakete unterstützen nicht nur das Lesen der genannten Dateitypen,
sondern auch das Schreiben.</p>
</div>
</section>
<section id="schreiben-von-dateien">
<h2><span class="section-number">7.3. </span>Schreiben von Dateien<a class="headerlink" href="#schreiben-von-dateien" title="Permalink to this heading">#</a></h2>
<p>Genauso wie für das Lesen aus Dateien muss man zum Schreiben in eine
Datei diese zunächst öffnen. Hat man das Schreiben beendet, so sollte
die Datei wieder geschlossen werden. In Python macht man dies am Einfachsten
im Rahmen eines <code class="docutils literal notranslate"><span class="pre">with</span></code>-Kontexts, wie wir ihn schon beim Lesen aus Dateien
kennengelernt haben.</p>
<p>Im <a class="reference internal" href="#readfile"><span class="std std-numref">Kapitel 7.2</span></a> hatten wir gesehen, dass eine Datei defaultmäßig
im Modus <code class="docutils literal notranslate"><span class="pre">r</span></code>, also zum Lesen, geöffnet wird. In diesem Modus ist es nicht
möglich, in die geöffnete Datei zu schreiben. Statt der <code class="xref py py-func docutils literal notranslate"><span class="pre">read()</span></code>-Methode zum
Lesen müssen wir hier die <code class="xref py py-func docutils literal notranslate"><span class="pre">write()</span></code>-Methode zum Schreiben verwenden, um das
Verhalten zu demonstrieren.</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;foo.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">datei</span><span class="p">:</span>
    <span class="n">datei</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Dies ist ein Test.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">FileNotFoundError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">12</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;foo.txt&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">datei</span><span class="p">:</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>     <span class="n">datei</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Dies ist ein Test.&#39;</span><span class="p">)</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.11.6/x64/lib/python3.11/site-packages/IPython/core/interactiveshell.py:310,</span> in <span class="ni">_modified_open</span><span class="nt">(file, *args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">303</span> <span class="k">if</span> <span class="n">file</span> <span class="ow">in</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">}:</span>
<span class="g g-Whitespace">    </span><span class="mi">304</span>     <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">305</span>         <span class="sa">f</span><span class="s2">&quot;IPython won&#39;t let you open fd=</span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2"> by default &quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">306</span>         <span class="s2">&quot;as it is likely to crash IPython. If you know what you are doing, &quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">307</span>         <span class="s2">&quot;you can use builtins&#39; open.&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">308</span>     <span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">310</span> <span class="k">return</span> <span class="n">io_open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="ne">FileNotFoundError</span>: [Errno 2] No such file or directory: &#39;foo.txt&#39;
</pre></div>
</div>
</div>
</div>
<p>Wenn wir dagegen die Datei im Schreibmodus <code class="docutils literal notranslate"><span class="pre">w</span></code> öffnen, können wir die
Datei wie gewünscht schreiben.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;foo.txt&#39;</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">datei</span><span class="p">:</span>
    <span class="n">datei</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s1">&#39;Dies ist ein Test.&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Das Ergebnis können wir uns wie in <a class="reference internal" href="#readfile"><span class="std std-numref">Kapitel 7.2</span></a> mit dem magischen
Befehl <code class="docutils literal notranslate"><span class="pre">%cat</span></code> in einer Notebook-Zelle ansehen.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">cat</span> foo.txt
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Dies ist ein Test.
</pre></div>
</div>
</div>
</div>
<p>Im Zusammenhang mit der <code class="xref py py-func docutils literal notranslate"><span class="pre">write()</span></code>-Methode ist allerdings zu beachten, dass
diese im Gegensatz zur <code class="xref py py-func docutils literal notranslate"><span class="pre">print()</span></code>-Funktion nicht automatisch einen
Zeilenumbruch anhängt. Im folgenden Beispiel verzichten wir darauf, beim
zweiten Argument das Schlüsselwort <code class="docutils literal notranslate"><span class="pre">mode</span></code> anzugeben, da dieses Argument
an der richtigen Position steht. Es spricht aber natürlich nichts dagegen,
das Schlüsselwort zur Verdeutlichung anzugeben.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;foo.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">datei</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
        <span class="n">datei</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Zeile </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">cat</span> foo.txt
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Zeile 1Zeile 2Zeile 3
</pre></div>
</div>
</div>
</div>
<p>Dieses Verhalten entspricht dem, was wir von der <code class="xref py py-func docutils literal notranslate"><span class="pre">print()</span></code>-Funktion kennen,
wenn wir <code class="docutils literal notranslate"><span class="pre">end=''</span></code> setzen. Wollen wir einen Zeilenumbruch erreichen, so müssen
wir das entsprechende Steuerzeichen explizit angeben.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;foo.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">datei</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
        <span class="n">datei</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Zeile </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">cat</span> foo.txt
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Zeile 1
Zeile 2
Zeile 3
</pre></div>
</div>
</div>
</div>
<p>Die Möglichkeiten der Formatierung in f-Strings hatten wir in einigem
Detail in <a class="reference internal" href="datentypen.html#formatierung"><span class="std std-numref">Kapitel 3.7</span></a> besprochen, auf das wir an dieser Stelle
verweisen wollen.</p>
<p>Benutzt man den Modus <code class="docutils literal notranslate"><span class="pre">w</span></code> zum Öffnen einer Datei zum Schreiben, muss man sich
bewusst sein, dass eine eventuell bereits existierende Datei mit diesem Namen
zunächst gelöscht wird. Dies gilt zumindest, wenn man auf der Ebene des
Betriebssystems die Rechte dazu besitzt. Je nach Situation kann dies das
erwünschte Verhalten sein oder es stört einen zumindest nicht. Es gibt jedoch
Anwendungen, in denen man einen alternativen Modus verwenden wird.</p>
<p>Statt des Modus <code class="docutils literal notranslate"><span class="pre">w</span></code> kann man den Modus <code class="docutils literal notranslate"><span class="pre">x</span></code> verwenden, der die Datei nur dann
zum Schreiben öffnen wird, wenn eine Datei mit dem betreffenden Namen noch
nicht existiert. Dies können wir anhand der Datei <code class="docutils literal notranslate"><span class="pre">foo.txt</span></code> demonstrieren,
die wir ja gerade geschrieben hatten.</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;foo.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">datei</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
        <span class="n">datei</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Zeile </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">FileExistsError</span><span class="g g-Whitespace">                           </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">19</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">1</span> <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;foo.txt&#39;</span><span class="p">,</span> <span class="s1">&#39;x&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">datei</span><span class="p">:</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>     <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">):</span>
<span class="g g-Whitespace">      </span><span class="mi">3</span>         <span class="n">datei</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Zeile </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>

<span class="nn">File /opt/hostedtoolcache/Python/3.11.6/x64/lib/python3.11/site-packages/IPython/core/interactiveshell.py:310,</span> in <span class="ni">_modified_open</span><span class="nt">(file, *args, **kwargs)</span>
<span class="g g-Whitespace">    </span><span class="mi">303</span> <span class="k">if</span> <span class="n">file</span> <span class="ow">in</span> <span class="p">{</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">}:</span>
<span class="g g-Whitespace">    </span><span class="mi">304</span>     <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
<span class="g g-Whitespace">    </span><span class="mi">305</span>         <span class="sa">f</span><span class="s2">&quot;IPython won&#39;t let you open fd=</span><span class="si">{</span><span class="n">file</span><span class="si">}</span><span class="s2"> by default &quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">306</span>         <span class="s2">&quot;as it is likely to crash IPython. If you know what you are doing, &quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">307</span>         <span class="s2">&quot;you can use builtins&#39; open.&quot;</span>
<span class="g g-Whitespace">    </span><span class="mi">308</span>     <span class="p">)</span>
<span class="ne">--&gt; </span><span class="mi">310</span> <span class="k">return</span> <span class="n">io_open</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

<span class="ne">FileExistsError</span>: [Errno 17] File exists: &#39;foo.txt&#39;
</pre></div>
</div>
</div>
</div>
<p>Der Versuch, in eine existierende Datei zu schreiben, wird also beim Modus
<code class="docutils literal notranslate"><span class="pre">x</span></code> unterbunden.</p>
<p>Es kann aber auch vorkommen, dass man in einer bereits existierenden Datei
am Ende der Datei weiterschreiben möchte. Hierzu ist der Modus <code class="docutils literal notranslate"><span class="pre">a</span></code> für <em>append</em>
vorgesehen. Ein Anwendungsfall kann darin bestehen, Probleme durch das Puffern
der Ausgabe, die wir am Ende von <a class="reference internal" href="#commandline"><span class="std std-numref">Kapitel 7.1</span></a> besprochen hatten, zu
umgehen. So könnte man bei einem Programm mit langer Laufzeit, bei dem in
größeren Abständen Daten geschrieben werden, die Datei nur unmittelbar zum
Schreiben der Daten wieder öffnen und anschließend wieder schließen. Bei einem
Programmabbruch gehen damit die bereits ausgegebenen Daten nicht verloren.
Dieses Vorgehen ist allerdings nur dann sinnvoll, wenn die Zeiten zwischen
den Schreibvorgängen nicht zu kurz sind, da sonst der Aufwand für das Öffnen
und Schließen der Datei das Programm ausbremsen würde.</p>
<p>Im folgenden Beispiel demonstrieren wir mit Hilfe einer Schleife außerhalb des
<code class="docutils literal notranslate"><span class="pre">with</span></code>-Kontexts das wiederholte Anhängen an eine Datei. Zudem überprüfen wir,
dass die Datei jeweils wieder geschlossen wurde.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>

<span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">):</span>
    <span class="n">sleep</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="n">now</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;spam.dat&#39;</span><span class="p">,</span> <span class="s1">&#39;a&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">datei</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">now</span><span class="si">:</span><span class="s1">%H:%M:%S</span><span class="si">}</span><span class="s1"> - Durchlauf </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span>
        <span class="n">datei</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">datei</span><span class="o">.</span><span class="n">closed</span><span class="p">:</span>
        <span class="n">msg</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">now</span><span class="si">:</span><span class="s1">%H:%M:%S</span><span class="si">}</span><span class="s1"> - Datei geschlossen&#39;</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>06:56:06 - Datei geschlossen
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>06:56:11 - Datei geschlossen
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>06:56:16 - Datei geschlossen
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>06:56:21 - Datei geschlossen
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">cat</span> spam.dat
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>06:56:06 - Durchlauf 1
06:56:11 - Durchlauf 2
06:56:16 - Durchlauf 3
06:56:21 - Durchlauf 4
</pre></div>
</div>
</div>
</div>
<p>Möchte man mehrere Dateien schreiben, weil man beispielsweise Rechnungen für
mehrere Parametersätze durchführen möchte, sollte man im Hinterkopf behalten,
dass es sich bei dem Namen, der beim Öffnen der Datei angegeben werden muss,
einfach um eine Zeichenkette handelt, die entsprechend konstruiert werden
kann. So hat man die Möglichkeit, entweder Parameter im Dateinamen unterzubringen
oder die Dateien durchzunummerieren. Wir wollen letzteres an einem Beispiel
demonstrieren.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">16</span><span class="p">):</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;mydata_</span><span class="si">{</span><span class="n">n</span><span class="si">:</span><span class="s1">04</span><span class="si">}</span><span class="s1">.dat&#39;</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">datei</span><span class="p">:</span>
        <span class="n">datei</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Datei Nr. </span><span class="si">{</span><span class="n">n</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">ls</span> mydata*.dat
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>mydata_0001.dat  mydata_0005.dat  mydata_0009.dat  mydata_0013.dat
mydata_0002.dat  mydata_0006.dat  mydata_0010.dat  mydata_0014.dat
mydata_0003.dat  mydata_0007.dat  mydata_0011.dat  mydata_0015.dat
mydata_0004.dat  mydata_0008.dat  mydata_0012.dat
</pre></div>
</div>
</div>
</div>
<p>Um eine übersichtliche Sortierung der Dateien zu erzeugen, ist es sinnvoll,
für die Nummer der Datei ein hinreichend breites Feld vorzusehen und die
freien Stellen mit Nullen zu füllen.</p>
<p>Ganz unabhängig davon, wie man den Dateinamen wählt, ist es sinnvoll,
Informationen, die erforderlich sind um die Daten zu erzeugen, zu Beginn der
Datei abzuspeichern. Dazu gehören nicht nur die verwendeten Parameter, sondern
auch Information über die verwendete Programmversion. Damit lässt sich im Fall
eines Fehlers im Programm auch im Nachhinein entscheiden, ob die Daten hiervon
betroffen sind.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="sequenzen.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">zurück</p>
        <p class="prev-next-title"><span class="section-number">6. </span>Zusammengesetzte Datentypen</p>
      </div>
    </a>
    <a class="right-next"
       href="scipy.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">weiter</p>
        <p class="prev-next-title"><span class="section-number">8. </span>Numerische Programmbibliotheken am Beispiel von NumPy/SciPy</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Inhalt
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#eingabe-uber-die-kommandozeile-und-die-tastatur">7.1. Eingabe über die Kommandozeile und die Tastatur</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lesen-von-dateien">7.2. Lesen von Dateien</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#schreiben-von-dateien">7.3. Schreiben von Dateien</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
Durch Gert-Ludwig Ingold
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright CC-BY.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=5b4479735964841361fd"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=5b4479735964841361fd"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>