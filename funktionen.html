
<!DOCTYPE html>

<html lang="de">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>5. Funktionen &#8212; Einführung in Prinzipien der Programmierung</title>
    
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" href="_static/styles/sphinx-book-theme.css?digest=5115cc725059bd94278eecd172e13a965bf8f5a9" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/basic.css" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" />
    
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">

    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script src="_static/scripts/sphinx-book-theme.js?digest=9c920249402e914e316237a7dbc6769907cce411"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/translations.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Stichwortverzeichnis" href="genindex.html" />
    <link rel="search" title="Suche" href="search.html" />
    <link rel="next" title="6. Zusammengesetzte Datentypen" href="sequenzen.html" />
    <link rel="prev" title="4. Kontrollstrukturen" href="kontrollstrukturen.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="de">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="60">
<!-- Checkboxes to toggle the left sidebar -->
<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle navigation sidebar">
<label class="overlay overlay-navbar" for="__navigation">
    <div class="visually-hidden">Toggle navigation sidebar</div>
</label>
<!-- Checkboxes to toggle the in-page toc -->
<input type="checkbox" class="sidebar-toggle" name="__page-toc" id="__page-toc" aria-label="Toggle in-page Table of Contents">
<label class="overlay overlay-pagetoc" for="__page-toc">
    <div class="visually-hidden">Toggle in-page Table of Contents</div>
</label>
<!-- Headers at the top -->
<div class="announcement header-item noprint"></div>
<div class="header header-item noprint"></div>

    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<!-- Sidebar -->
<div class="bd-sidebar noprint" id="site-navigation">
    <div class="bd-sidebar__content">
        <div class="bd-sidebar__top"><div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Einführung in Prinzipien der Programmierung</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="einleitung.html">
   1. Einleitung
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="vorschau.html">
   2. Eine Vorschau
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="datentypen.html">
   3. Einfache Datentypen, Variablen und Zuweisungen
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="kontrollstrukturen.html">
   4. Kontrollstrukturen
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   5. Funktionen
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="sequenzen.html">
   6. Zusammengesetzte Datentypen
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="einausgabe.html">
   7. Ein- und Ausgabe
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="scipy.html">
   8. Numerische Programmbibliotheken am Beispiel von NumPy/SciPy
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="objektorientiert.html">
   9. Objektorientiertes Programmieren
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="zahlensysteme.html">
   10. Anhang: Zahlensysteme
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="floats.html">
   11. Anhang: 64-Bit-Gleitkommazahlen nach IEEE-Standard 754
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="unicode.html">
   12. Anhang: Unicode
  </a>
 </li>
</ul>

    </div>
</nav></div>
        <div class="bd-sidebar__bottom">
             <!-- To handle the deprecated key -->
            
            <div class="navbar_extra_footer">
            Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
            </div>
            
        </div>
    </div>
    <div id="rtd-footer-container"></div>
</div>


          


          
<!-- A tiny helper pixel to detect if we've scrolled -->
<div class="sbt-scroll-pixel-helper"></div>
<!-- Main content -->
<div class="col py-0 content-container">
    
    <div class="header-article row sticky-top noprint">
        



<div class="col py-1 d-flex header-article-main">
    <div class="header-article__left">
        
        <label for="__navigation"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="right"
title="Toggle navigation"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-bars"></i>
  </span>

</label>

        
    </div>
    <div class="header-article__right">
<div class="menu-dropdown menu-dropdown-launch-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Launch interactive content">
      <i class="fas fa-rocket"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="https://mybinder.org/v2/gh/gertingold/epriprog/master?urlpath=tree/epriprog/funktionen.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Launch on Binder"
>
  

<span class="headerbtn__icon-container">
  
    <img src="_static/images/logo_binder.svg">
  </span>
<span class="headerbtn__text-container">Binder</span>
</a>

      </li>
      
    </ul>
  </div>
</div>

<button onclick="toggleFullScreen()"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="bottom"
title="Fullscreen mode"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>

<div class="menu-dropdown menu-dropdown-download-buttons">
  <button class="headerbtn menu-dropdown__trigger"
      aria-label="Download this page">
      <i class="fas fa-download"></i>
  </button>
  <div class="menu-dropdown__content">
    <ul>
      <li>
        <a href="_sources/funktionen.ipynb"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download notebook file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-code"></i>
  </span>
<span class="headerbtn__text-container">.ipynb</span>
</a>

      </li>
      
      <li>
        <a href="_sources/funktionen.md"
   class="headerbtn"
   data-toggle="tooltip"
data-placement="left"
title="Download source file"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="headerbtn__text-container">.md</span>
</a>

      </li>
      
      <li>
        
<button onclick="printPdf(this)"
  class="headerbtn"
  data-toggle="tooltip"
data-placement="left"
title="Print to PDF"
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="headerbtn__text-container">.pdf</span>
</button>

      </li>
      
    </ul>
  </div>
</div>
<label for="__page-toc"
  class="headerbtn headerbtn-page-toc"
  
>
  

<span class="headerbtn__icon-container">
  <i class="fas fa-list"></i>
  </span>

</label>

    </div>
</div>

<!-- Table of contents -->
<div class="col-md-3 bd-toc show noprint">
    <div class="tocsection onthispage pt-5 pb-3">
        <i class="fas fa-list"></i> Contents
    </div>
    <nav id="bd-toc-nav" aria-label="Page">
        <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#funktionsdefinitionen">
   5.1. Funktionsdefinitionen
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dokumentation-von-funktionen">
   5.2. Dokumentation von Funktionen
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lokale-und-globale-variable">
   5.3. Lokale und globale Variable
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rekursive-funktionen">
   5.4. Rekursive Funktionen
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#funktionen-als-burger-erster-klasse">
   5.5. Funktionen als Bürger erster Klasse
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lambda-funktionen">
   5.6. Lambda-Funktionen
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#schlusselworte-und-defaultwerte">
   5.7. Schlüsselworte und Defaultwerte
  </a>
 </li>
</ul>

    </nav>
</div>
    </div>
    <div class="article row">
        <div class="col pl-md-3 pl-lg-5 content-container">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>Funktionen</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#funktionsdefinitionen">
   5.1. Funktionsdefinitionen
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#dokumentation-von-funktionen">
   5.2. Dokumentation von Funktionen
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lokale-und-globale-variable">
   5.3. Lokale und globale Variable
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#rekursive-funktionen">
   5.4. Rekursive Funktionen
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#funktionen-als-burger-erster-klasse">
   5.5. Funktionen als Bürger erster Klasse
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#lambda-funktionen">
   5.6. Lambda-Funktionen
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#schlusselworte-und-defaultwerte">
   5.7. Schlüsselworte und Defaultwerte
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            <main id="main-content" role="main">
                
              <div>
                
  <section class="tex2jax_ignore mathjax_ignore" id="funktionen">
<h1><span class="section-number">5. </span>Funktionen<a class="headerlink" href="#funktionen" title="Link zu dieser Überschrift">#</a></h1>
<p>Funktionen im mathematischen Sinne sind uns in den Natur- und Ingenieurwissenschaften
wohlbekannt. Dass solche Funktionen auch von Programmiersprachen zur Verfügung gestellt
werden, hatten wir unter anderem im <a class="reference internal" href="datentypen.html#mathfunc"><span class="std std-numref">Kapitel 3.3</span></a> gesehen. Allerdings ist der
Begriff der Funktionen in Programmiersprachen wesentlich weiter gefasst. So muss eine
Funktion nicht unbedingt ein Argument besitzen, und sie muss auch nicht unbedingt ein
Ergebnis zurückgeben. In manchen Programmiersprachen wird nach diesem letzten Kriterium
unterschieden. So kennt Fortran <em>functions</em>, die ein Resultat zurückgeben, und <em>subroutines</em>,
bei denen dies nicht der Fall ist.</p>
<p>Wozu sind Funktionen gut, wenn man davon absieht, dass sie uns aus der Mathematik vertraut
sind? Zunächst einmal können Funktionen wesentlich dabei helfen, ein Programm zu strukturieren.
Lagert man eine bestimmte Funktionalität in eine Funktion mit einem gut gewählten Namen aus,
so kann man die Komplexität im Innern der Funktion verstecken. Bei der Suche nach Fehlern
kann dies ein entscheidender Vorteil sein, da man sich entweder nur mit dem Innern der Funktion
beschäftigt und untersucht, ob diese korrekt implementiert ist, oder aber sich auf deren
Korrektheit verlässt und die Details bei der Untersuchung des restlichen Programms nicht im
Blick haben muss.</p>
<p>Funktionen eignen sich auch sehr gut dazu, Programmcode, der an mehreren Stellen im Programm
auftreten würde, an einer einzigen Stelle unterzubringen. Auch dieser Aspekt trägt, zusammen
mit einem gut gewählten Funktionsnamen, dazu bei, ein Programm lesbarer zu machen. Zum
anderen verbessert sich die Wartbarkeit des Codes erheblich, da Korrekturen nur an einer
Stelle vorgenommen werden müssen. Ohne die Verwendung von Funktionen müssten man darauf achten,
Korrekturen zum Code an verschiedenen Stellen der Programms in konsistenter Weise vorzunehmen.</p>
<p>Stellt man beim Programmieren fest, dass sich Code wiederholt, so sollte man sich also überlegen,
ob es nicht sinnvoll wäre, für die betreffende Aufgabe eine Funktion zu definieren. Auch dann
wenn Code nicht identisch wiederholt wird, sondern nur in ähnlicher Weise, ist eine Auslagerung
in eine Funktion denkbar, wenn man geeignete Funktionsargumente einführt. Grundsätzlich sollte
man beim Programmieren daran denken, sich nicht unnötig zu wiederholen und stattdessen entweder
eine der in <a class="reference internal" href="kontrollstrukturen.html#forloop"><span class="std std-numref">Kapitel 4.1</span></a> und <a class="reference internal" href="kontrollstrukturen.html#whileloop"><span class="std std-numref">Kapitel 4.2</span></a> besprochenen Schleifenvarianten zu verwenden
oder aber eine Funktion zu implementieren.</p>
<p>Schließlich ist die Verwendung von Funktionen auch dann angebracht, wenn man die gleiche
Funktionalität in verschiedenen Programmen benötigt. Man kann solche Funktionen in einem
Modul sammeln und dann bei Bedarf importieren, wie wir es schon mit dem <code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code>-Modul
und den darin enthaltenen Funktionen getan haben.</p>
<section id="funktionsdefinitionen">
<span id="fdef"></span><h2><span class="section-number">5.1. </span>Funktionsdefinitionen<a class="headerlink" href="#funktionsdefinitionen" title="Link zu dieser Überschrift">#</a></h2>
<p>Betrachten wir zunächst eine Funktion, die keine Argumente besitzt. Was die Funktion tut, ist
also festgelegt und kann nicht durch Parameter verändert werden.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>def f():
    print(&quot;Hallo!&quot;)

print(&quot;** Anfang&quot;)
f()
print(&quot;** Ende&quot;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>** Anfang
Hallo!
** Ende
</pre></div>
</div>
</div>
</div>
<p>In diesem einfachen Beispiel ist die Funktion durch die ersten beiden Zeilen definiert. Dabei
besitzt die erste Zeile eine Struktur wie wir sie ähnlich von Schleifen und Verzweigungen kennen.
Die Zeile beginnt nämlich ebenfalls mit einem Schlüsselwort, das in diesem Fall <code class="docutils literal notranslate"><span class="pre">def</span></code> heißt und andeutet,
dass hier eine Funktion definiert wird. Des Weiteren wird die erste Zeile mit einem Doppelpunkt
beendet. Der Funktionsname ist hier <code class="docutils literal notranslate"><span class="pre">f</span></code>, wobei hier im Allgemeinen eine Name gewählt werden sollte,
der besser beschreibt, was die Funktion tut. Wichtig ist das Klammerpaar, das auch dann nicht
weggelassen werden darf, wenn die Funktion überhaupt keine Argumente besitzt.</p>
<p>Der Funktionscode ist wie üblich in Python durch eine Einrückung kenntlich zu machen. Die dritte,
leere Zeile dient hier nur zur optischen Absetzung und ist für den Python-Interpreter völlig
irrelevant. Durch die Beendung der Einrückung sind die letzten drei Zeilen nicht mehr Bestandteil
der Funktion. Funktionsdefinitionen benötigen genauso wie Schleifen und Verzweigungen zwingend
einen eingerückten Codeblock. Wie schon bei den <code class="docutils literal notranslate"><span class="pre">for</span></code>-Schleifen in <a class="reference internal" href="kontrollstrukturen.html#forloop"><span class="std std-numref">Kapitel 4.1</span></a> kann auch hier
bei Bedarf der Befehl <code class="docutils literal notranslate"><span class="pre">pass</span></code> eingerückt verwendet werden.</p>
<p>Wenn der Python-Interpreter den Code des obigen Beispiels verarbeitet, wird zunächst die Funktion
<code class="docutils literal notranslate"><span class="pre">f</span></code> definiert. Sie wird zu diesem Zeitpunkt jedoch nicht ausgeführt. Es erfolgt als insbesondere
zu diesem Zeitpunkt nicht die Ausgabe des Textes <code class="docutils literal notranslate"><span class="pre">Hallo!</span></code>. Die Anweisung in Zeile 4 führt nun dazu,
dass der Text <code class="docutils literal notranslate"><span class="pre">**</span> <span class="pre">Anfang</span></code> ausgegeben wird. Anschließend wird die Funktion <code class="docutils literal notranslate"><span class="pre">f</span></code> ohne Argumente aufgerufen.
An dieser Stelle ein Argument anzugeben, das in der Funktionsdefinition nicht vorgesehen ist, würde
zu einem Fehler führen.</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>def f():
    print(&quot;Hallo!&quot;)

print(&quot;** Anfang&quot;)
f(1)
print(&quot;** Ende&quot;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>** Anfang
</pre></div>
</div>
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">TypeError</span><span class="g g-Whitespace">                                 </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">2</span><span class="p">],</span> <span class="n">line</span> <span class="mi">5</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>     <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hallo!&quot;</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;** Anfang&quot;</span><span class="p">)</span>
<span class="ne">----&gt; </span><span class="mi">5</span> <span class="n">f</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;** Ende&quot;</span><span class="p">)</span>

<span class="ne">TypeError</span>: f() takes 0 positional arguments but 1 was given
</pre></div>
</div>
</div>
</div>
<p>Rufen wir dagegen unsere Funktion <code class="docutils literal notranslate"><span class="pre">f</span></code> korrekt ohne ein Argument auf, so wird diese ausgeführt und
in diesem Fall <code class="docutils literal notranslate"><span class="pre">Hallo!</span></code> ausgegeben. Nachdem die Funktion ausgeführt wurde, wird die Programmausführung
direkt nach dem Funktionsaufruf fortgesetzt. Im Beispiel wird somit abschließend der Text <code class="docutils literal notranslate"><span class="pre">**</span> <span class="pre">Ende</span></code>
ausgegeben.</p>
<p>In den meisten Fällen wird man die Funktion flexibler gestalten wollen und zu diesem Zweck ein oder
mehrere Argument übergeben wollen. Um den ursprünglichen Autor von Python,
<a class="reference external" href="https://de.wikipedia.org/wiki/Guido_van_Rossum">Guido von Rossum</a>, zu grüßen, können wir den Namen der
zu grüßenden Person als Argument übergeben.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>def f(name):
    print(f&quot;Hallo, {name}!&quot;)

f(&quot;Guido&quot;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hallo, Guido!
</pre></div>
</div>
</div>
</div>
<p>Will man zusätzlich die Sprache zwischen Deutsch (de) und Englisch (en) wählen, so könnte man ein
weiteres Argument vorsehen.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>def f(name, lang):
    if lang == &quot;en&quot;:
        print(f&quot;Hello, {name}!&quot;)
    elif lang == &quot;de&quot;:
        print(f&quot;Hallo, {name}!&quot;)
    else:
        print(f&quot;{name}!&quot;)

f(&quot;Guido&quot;, &quot;en&quot;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hello, Guido!
</pre></div>
</div>
</div>
</div>
<p>Das gewählte Beispiel ist insofern untypisch als die Funktion anscheinend keinen Rückgabewert zurückliefert.
Normalerweise würde man die sich ergebende Zeichenkette an den aufrufenden Programmteil übergeben, wo dann
entschieden werden kann, was mit dem Ergebnis zu tun ist. Eine alternative Variante unserer Funktion mit
einem Argument würde dann folgendermaßen aussehen.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>def f(name):
    s = f&quot;Hallo, {name}!&quot;
    return s

print(f(&quot;Guido&quot;))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hallo, Guido!
</pre></div>
</div>
</div>
</div>
<p>Das Ergebnis wird mit Hilfe der <code class="docutils literal notranslate"><span class="pre">return</span></code>-Anweisung zurückgegeben, wobei hier keine Klammern zu setzen sind.
Alternativ wäre es möglich, auf die Variable <code class="docutils literal notranslate"><span class="pre">s</span></code> zu verzichten und die sich ergebene Zeichenkette direkt
in die <code class="docutils literal notranslate"><span class="pre">return</span></code>-Anweisung zu schreiben.</p>
<p>Auch wenn man den Eindruck haben könnte, dass das Fehlen einer <code class="docutils literal notranslate"><span class="pre">return</span></code>-Anweisung dazu führt, dass überhaupt
kein Ergebnis zurückgibt, ist dies nicht ganz richtig.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>def f(name):
    print(f&quot;Hallo, {name}!&quot;)

x = f(&quot;Guido&quot;)
print(f&quot;Rückgabewert: {x}&quot;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hallo, Guido!
Rückgabewert: None
</pre></div>
</div>
</div>
</div>
<p>Die erste Ausgabezeile ergibt sich aus der <code class="docutils literal notranslate"><span class="pre">print</span></code>-Anweisung in der Funktion <code class="docutils literal notranslate"><span class="pre">f</span></code>. Der Rückgabewert aufgrund
des Funktionsaufrufs wird in der Variable <code class="docutils literal notranslate"><span class="pre">x</span></code> gespeichert, die anschließend ausgegeben wird. Wie wir sehen,
wird in diesem Fall als Ergebnis <code class="docutils literal notranslate"><span class="pre">None</span></code> zurückgegeben. Das gleiche Result hätten wir erhalten, wenn wir als
letzte Zeile explizit <code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">None</span></code> geschrieben hätten.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>def f(name):
    print(f&quot;Hallo, {name}!&quot;)
    return None

x = f(&quot;Guido&quot;)
print(f&quot;Rückgabewert: {x}&quot;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hallo, Guido!
Rückgabewert: None
</pre></div>
</div>
</div>
</div>
<div class="tip admonition">
<p class="admonition-title">Tipp</p>
<p>Eine vergessene <code class="docutils literal notranslate"><span class="pre">return</span></code>-Anweisung und der sich daraus ergebende Rückgabewert <code class="docutils literal notranslate"><span class="pre">None</span></code> können gelegentlich
zu überraschenden Fehlermeldung führen. Es lohnt sich daher bei Fehlern in Zusammenhang mit Funktionen zu
überprüfen, ob die <code class="docutils literal notranslate"><span class="pre">return</span></code>-Anweisung vorhanden ist.</p>
</div>
<p>Eine Funktion kann auch mehrere <code class="docutils literal notranslate"><span class="pre">return</span></code>-Anweisungen enthalten, wobei die Ausführung der Funktion beendet
wird, sobald sie bei einer <code class="docutils literal notranslate"><span class="pre">return</span></code>-Anweisung ankommt. Das folgende Beispiel illustriert dies an einem
sehr simplen Primzahltest.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>def is_prime(n):
    for divisor in range(2, n):
        if n % divisor == 0:
            return False
    return True

for n in range(2, 100):
    if is_prime(n):
        print(n, end=&#39; &#39;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2 3 5 7 11 13 17 19 23 29 31 37 41 43 47 53 59 61 67 71 73 79 83 89 97 
</pre></div>
</div>
</div>
</div>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition-weiterfuhrende-frage admonition">
<p class="admonition-title">Weiterführende Frage</p>
<p>Dieser Primzahltest ist alles andere als effizient. Wie könnte man ihn verbessern?</p>
</div>
</aside>
<p>Sobald <code class="docutils literal notranslate"><span class="pre">n</span></code> ohne Rest durch <code class="docutils literal notranslate"><span class="pre">divisor</span></code> teilbar ist, wird die Funktion mit der <code class="docutils literal notranslate"><span class="pre">return</span></code>-Anweisung beendet und
der Wert <code class="docutils literal notranslate"><span class="pre">False</span></code> zurückgegeben. Wird kein Teiler gefunden, so wird de Wert <code class="docutils literal notranslate"><span class="pre">True</span></code> zurückgegeben. Abhängig
vom Ergebnis der Funktion <code class="docutils literal notranslate"><span class="pre">is_prime</span></code> wird die betreffende Zahl ausgegeben oder nicht und auf diese Weise
eine Liste von Primzahlen erzeugt.</p>
<p>Eine Funktion kann auch mehr als einen Wert zurückgeben. Dazu werden die einzelnen Variablen durch Kommas
getrennt in der <code class="docutils literal notranslate"><span class="pre">return</span></code>-Anweisung aufgelistet.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from math import cos, radians, sin

def spherical2cartesian(r, theta, phi):
    theta = radians(theta)
    phi = radians(phi)
    x = r*sin(theta)*cos(phi)
    y = r*sin(theta)*sin(phi)
    z = r*cos(theta)
    return x, y, z

pt1_r = 10
pt1_theta = 45
pt1_phi = 30
pt1_x, pt1_y, pt1_z = spherical2cartesian(pt1_r, pt1_theta, pt1_phi)
print(f&quot;({pt1_x:5.3f}, {pt1_y:5.3f}, {pt1_z:5.3f})&quot;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(6.124, 3.536, 7.071)
</pre></div>
</div>
</div>
</div>
<p>Vergleicht man in diesem Beispiel die Namen sowohl der Argumente als auch der
Rückgabewerte in der Funktionsdefinition mit den Namen, die im Funktionsaufruf
in der vorletzten Zeile verwendet werden, so stellt man fest, dass diese nicht
identisch sein müssen. Dies ist schon deswegen nicht der Fall, weil man statt der drei
Variablen im Funktionsaufruf auch direkt numerische Werte angeben könnte. Zudem
wäre es sonst erforderlich, die Variablennamen in Funktionen zu kennen, die man
aus einem Modul importiert. In unserem Beispiel erfolgt die Zuordnung der Argumente
und der Rückgabewerte einfach nach der Position. Die Möglichkeit, mit Hilfe von
Schlüsselworten eine Zuordnung der Funktionsargumente vorzunehmen, werden wir in
<a class="reference internal" href="#kwargs"><span class="std std-numref">Kapitel 5.7</span></a> besprechen.</p>
</section>
<section id="dokumentation-von-funktionen">
<span id="dokumentation"></span><h2><span class="section-number">5.2. </span>Dokumentation von Funktionen<a class="headerlink" href="#dokumentation-von-funktionen" title="Link zu dieser Überschrift">#</a></h2>
<p>Wie generell beim Programmieren ist es auch in Funktionen sinnvoll, an eine
ausreichende Dokumentation zu denken. Dies könnte mit Hilfe von Kommentaren
erfolgen, die in Python mit einem <code class="docutils literal notranslate"><span class="pre">#</span></code> eingeleitet werden. Andere
Programmiersprachen verwenden hierfür häufig auch andere Markierungen. In
Python gibt es für Funktionen jedoch eine geeignetere Art der Dokumentation,
nämlich einen Dokumentationstext, den so genannten <em>docstring</em>, der direkt auf
die erste Zeile der Funktionsdefinition folgt.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from math import sqrt

def mitternacht(a, b, c):
    &quot;&quot;&quot;Berechne die beiden Lösungen einer quadratischen Gleichung ax²+bx+c=0

    Es wird die Mitternachtsformel verwendet.
    Achtung: Es wird stillschweigend vorausgesetzt, dass b^2-4ac&gt;0.

    &quot;&quot;&quot;
    diskriminante = sqrt(b**2-4*a*c)
    root1 = (-b+diskriminante)/(2*a)
    root2 = (-b-diskriminante)/(2*a)
    return root1, root2
</pre></div>
</div>
</div>
</div>
<p>Der <em>docstring</em> wird hier nicht nur mit einem, sondern mit drei Anführungszeichen begrenzt,
da auf diese Weise ein mehrzeiliger Text möglich ist. Der Vorteil dieser Dokumentationsweise
im Vergleich zu einfachen Kommentaren besteht bei Python darin, dass der <em>docstring</em> mit Hilfe
der <code class="xref py py-func docutils literal notranslate"><span class="pre">help()</span></code>-Funktion ausgegeben werden kann, ähnlich wie wir dies im <a class="reference internal" href="datentypen.html#mathfunc"><span class="std std-numref">Kapitel 3.3</span></a>
kennengelernt hatten, wo <code class="docutils literal notranslate"><span class="pre">help(math)</span></code> die Dokumentation für das <code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code>-Modul ausgab.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>help(mitternacht)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Help on function mitternacht in module __main__:

mitternacht(a, b, c)
    Berechne die beiden Lösungen einer quadratischen Gleichung ax²+bx+c=0
    
    Es wird die Mitternachtsformel verwendet.
    Achtung: Es wird stillschweigend vorausgesetzt, dass b^2-4ac&gt;0.
</pre></div>
</div>
</div>
</div>
<p>Hier wird man also in Python belohnt, wenn man sich einer guten Dokumentationspraxis bedient.</p>
<p>Weitere Hinweis zu <em>docstrings</em> sind in <span class="target" id="index-0"></span><a class="pep reference external" href="https://peps.python.org/pep-0257/"><strong>PEP 257</strong></a> zu finden.</p>
</section>
<section id="lokale-und-globale-variable">
<h2><span class="section-number">5.3. </span>Lokale und globale Variable<a class="headerlink" href="#lokale-und-globale-variable" title="Link zu dieser Überschrift">#</a></h2>
<p>Nicht selten kommt es vor, dass Variablen inner- und außerhalb einer Funktion den gleichen
Namen haben. Insbesondere bei Funktionen, die aus fremden Modulen, zum Beispiel aus der
Python-Standardbibliothek, importiert werden, lassen sich solche Namensdoppelungen auch kaum
vermeiden. Daher stellt sich die Frage, auf welche Variable sich unter welchen Umständen
ein mehrfach verwendeter Variablenname bezieht.</p>
<p>In dem folgenden Beispiel sind außerhalb der Funktion <code class="xref py py-func docutils literal notranslate"><span class="pre">f()</span></code> die Variablen
<code class="docutils literal notranslate"><span class="pre">x</span></code> und <code class="docutils literal notranslate"><span class="pre">y</span></code> definiert. Innerhalb der Funktion <code class="xref py py-func docutils literal notranslate"><span class="pre">f()</span></code> gibt es eine Variable
<code class="docutils literal notranslate"><span class="pre">x</span></code>, die innerhalb der Funktion verändert wird. Außerdem geht der Wert der
Variable <code class="docutils literal notranslate"><span class="pre">y</span></code> in die Rechnung ein. Aus der Sicht der Funktion <code class="xref py py-func docutils literal notranslate"><span class="pre">f()</span></code> muss man
nun zwischen lokalen und globalen Variablen unterscheiden. Lokale Variablen sind
nur innerhalb der Funktion sichtbar, jedoch nicht von außerhalb der Funktion. Gibt
es keine lokale Variable mit dem vorgegebenen Namen, dafür aber eine passende globale
Variable, so wird deren Wert verwendet. Sollte es auch keine passende globale Variable
geben, so sucht Python schließlich auch noch in den eingebauten Python-Funktionen.</p>
<div class="warning admonition">
<p class="admonition-title">Tipp</p>
<p>Grundsätzlich sollte man den Bezug auf globale Variablen nach Möglichkeit vermeiden, da
hier eine große Gefahr für Fehler lauert. Meistens ist es besser, den Wert der globalen
Variable explizit über ein Funktionsargument zu übergeben. Unter Umständen kann auch
objektorientiertes Programmieren nützlich sein, auf das wir in <a class="reference internal" href="objektorientiert.html#oop"><span class="std std-numref">Kapitel 9</span></a> eingehen
werden.</p>
</div>
<p>Betrachten wir die Unterscheidung zwischen lokalen und globalen Variablen in einem
konkreten Beispiel.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>def f(x):
    x = x+1
    print(f&quot;lokal:  x = {locals()[&#39;x&#39;]}&quot;)
    print(f&quot;global: x = {globals()[&#39;x&#39;]}&quot;)
    print(f&quot;global: y = {globals()[&#39;y&#39;]}&quot;)
    return x*y

x = 5
y = 2
print(f&quot;{f(3) = }&quot;)
print(f&quot;{x = }&quot;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>lokal:  x = 4
global: x = 5
global: y = 2
f(3) = 8
x = 5
</pre></div>
</div>
</div>
</div>
<p>Außerhalb der Funktion <code class="xref py py-func docutils literal notranslate"><span class="pre">f()</span></code> sind die globalen Variablen <code class="docutils literal notranslate"><span class="pre">x</span></code> und <code class="docutils literal notranslate"><span class="pre">y</span></code> mit ihren Werten
5 und 2 definiert. In der vorletzten Zeile wird dann die Funktion <code class="xref py py-func docutils literal notranslate"><span class="pre">f()</span></code> mit dem Argument
3 aufgerufen. Damit hat die lokale Variable <code class="docutils literal notranslate"><span class="pre">x</span></code> im Innern der Funktion diesen Wert. In der
ersten Zeile des Funktionskörpers wird <code class="docutils literal notranslate"><span class="pre">x</span></code> dann auf den Wert 4 inkrementiert. Dabei nehmen
sowohl die linke als auch die rechte Seite Bezug auf die lokale Variable <code class="docutils literal notranslate"><span class="pre">x</span></code>, deren Wert
über das Funktionsargument gesetzt wurde. Die globale Variable <code class="docutils literal notranslate"><span class="pre">x</span></code> mit ihrem Wert 5 spielt
für die Rechnung keine Rolle, da die lokale Variable Vorrang hat.</p>
<p>Nach der Inkrementierung der Variablen <code class="docutils literal notranslate"><span class="pre">x</span></code> sehen wir uns die innerhalb der Funktion bekannten
lokalen und globalen Variablen an. Die lokale Variable <code class="docutils literal notranslate"><span class="pre">x</span></code> hat den Wert 4 und ein Bezug auf eine
Variable mit dem Namen <code class="docutils literal notranslate"><span class="pre">x</span></code> wird innerhalb der Funktion diesen Wert liefern, sofern nicht im
weiteren Verlauf ein anderer Wert zugewiesen wird. Ferner ist eine globale Variable <code class="docutils literal notranslate"><span class="pre">x</span></code> mit
dem Wert 5 bekannt, auf die aber nicht unter dem Namen <code class="docutils literal notranslate"><span class="pre">x</span></code> direkt zugegriffen werden kann.
Schließlich gibt es noch die globale Variable <code class="docutils literal notranslate"><span class="pre">y</span></code>, die den Wert 2 besitzt.</p>
<div class="admonition-hinweis admonition">
<p class="admonition-title">Hinweis</p>
<p>Die meisten globale Objekte können innerhalb einer Funktion nicht verändert werden. Eine
Ausnahme sind Listen, so dass bei deren Modifikation innerhalb einer Funktion besondere
Vorsicht geboten ist. Auf die Besonderheiten von Listen werden in <a class="reference internal" href="sequenzen.html#zusgdatentypen"><span class="std std-numref">Kapitel 6</span></a>
genauer eingehen.</p>
</div>
<p>Der Rückgabewert der Funktion ergibt sich nun aus dem Produkt der lokalen Variable <code class="docutils literal notranslate"><span class="pre">x</span></code> und
der globalen Variable <code class="docutils literal notranslate"><span class="pre">y</span></code> zu 4 mal 2, also 8. Außerhalb der Funktion hat die Variable <code class="docutils literal notranslate"><span class="pre">x</span></code>
weiterhin den Wert 5. Dieser wurde durch die Inkrementierung der lokalen Variable <code class="docutils literal notranslate"><span class="pre">x</span></code> innerhalb
der Funktion also nicht berührt.</p>
<p>Betrachten wir abschließend noch eine abgewandelte Form des vorigen Beispiels, in der neben der
Variablen <code class="docutils literal notranslate"><span class="pre">x</span></code> auch die Variable <code class="docutils literal notranslate"><span class="pre">y</span></code> inkrementiert wird. Durch diesen Umstand wird <code class="docutils literal notranslate"><span class="pre">y</span></code> zu einer
lokalen Variablen, und zwar in der gesamten Funktion. Dies hat insbesondere zur Folge, dass
auf der rechten Seite der zweiten Zeile des Funktionskörpers der Wert der lokalen Variablen <code class="docutils literal notranslate"><span class="pre">y</span></code>
benötigt wird. Da diese aber nicht existiert, kommt es hierzu zu einem <code class="docutils literal notranslate"><span class="pre">UnboundLocalError</span></code>.</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>def f(x):
    x = x+1
    y = y+1
    return x*y

x = 5
y = 2
print(f&quot;{f(3) = }&quot;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span><span class="gt">---------------------------------------------------------------------------</span>
<span class="ne">UnboundLocalError</span><span class="g g-Whitespace">                         </span>Traceback (most recent call last)
<span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">13</span><span class="p">],</span> <span class="n">line</span> <span class="mi">8</span>
<span class="g g-Whitespace">      </span><span class="mi">6</span> <span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
<span class="g g-Whitespace">      </span><span class="mi">7</span> <span class="n">y</span> <span class="o">=</span> <span class="mi">2</span>
<span class="ne">----&gt; </span><span class="mi">8</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="si">= }</span><span class="s2">&quot;</span><span class="p">)</span>

<span class="nn">Cell In[13], line 3,</span> in <span class="ni">f</span><span class="nt">(x)</span>
<span class="g g-Whitespace">      </span><span class="mi">1</span> <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="g g-Whitespace">      </span><span class="mi">2</span>     <span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="o">+</span><span class="mi">1</span>
<span class="ne">----&gt; </span><span class="mi">3</span>     <span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="o">+</span><span class="mi">1</span>
<span class="g g-Whitespace">      </span><span class="mi">4</span>     <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span>

<span class="ne">UnboundLocalError</span>: local variable &#39;y&#39; referenced before assignment
</pre></div>
</div>
</div>
</div>
</section>
<section id="rekursive-funktionen">
<h2><span class="section-number">5.4. </span>Rekursive Funktionen<a class="headerlink" href="#rekursive-funktionen" title="Link zu dieser Überschrift">#</a></h2>
<p>Darf man in einer Funktion die Funktion selbst wieder aufrufen? In Sprachen wie Python, C und
modernen Versionen von Fortran ist dies möglich. In Fortran 77 musste man dafür noch in die
Trickkiste greifen. Eine Funktion, die in sich selbst wieder aufgerufen wird, wenn auch mit
anderen Werten für die Argumente, nennt man eine rekursive Funktion. Zur Erläuterung betrachten
wir zunächst ein mathematisches Beispiel.</p>
<p>Die Fakultät <span class="math notranslate nohighlight">\(n!\)</span> einer ganzen Zahl <span class="math notranslate nohighlight">\(n\)</span> ist definiert als das Produkt der ganzen Zahlen von <span class="math notranslate nohighlight">\(1\)</span> bis
<span class="math notranslate nohighlight">\(n\)</span>, also</p>
<div class="math notranslate nohighlight">
\[n! = \prod_{k=1}^n k = 1\cdot 2\cdot\ldots\cdot(n-1)\cdot n\,.\]</div>
<p>Alternativ kann man die Fakultät auch rekursiv definieren als</p>
<div class="math notranslate nohighlight">
\[n! = n\cdot(n-1)!\,,\ 1!=1\,.\]</div>
<p>Hierbei wird die Auswertung der Fakultät auf die Auswertung der Fakultät für eine um Eins kleinere
Zahl reduziert. So lässt sich sukzessive das Argument der auszuwertenden Fakultät reduzieren, was
natürlich nur etwas nützt, wenn diese Folge irgendwann abbricht. In unserem Fall geschieht dies
dadurch, dass die Fakultät von <span class="math notranslate nohighlight">\(1\)</span> zu <span class="math notranslate nohighlight">\(1\)</span> definiert wird.</p>
<p>Wir setzen diese mathematischen Formeln nun in Programmcode um und beginnen mit der expliziten
Produktdarstellung.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>def fakultaet(n):
    produkt = 1
    for k in range(2, n+1):
        produkt = produkt*k
    return produkt

for n in range(1, 10):
    print(n, fakultaet(n))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1 1
2 2
3 6
4 24
5 120
6 720
7 5040
8 40320
9 362880
</pre></div>
</div>
</div>
</div>
<p>Alternativ kann man die Fakultät rekursiv implementieren.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>def fakultaet_rekursiv(n):
    if n &gt; 1:
        return n*fakultaet_rekursiv(n-1)
    elif n == 1:
        return 1
    else:
        raise ValueError(&quot;Das Argument muss größer als Null sein.&quot;)

for n in range(1, 10):
    print(n, fakultaet_rekursiv(n))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1 1
2 2
3 6
4 24
5 120
6 720
7 5040
8 40320
9 362880
</pre></div>
</div>
</div>
</div>
<p>Sehen wir uns diese Implementierung etwas genauer an. So lange das Argument <code class="docutils literal notranslate"><span class="pre">n</span></code> größer als Eins ist,
wird einfach die Rekursionsformel implementiert. Es wird als Ergebnis also einfach <code class="docutils literal notranslate"><span class="pre">n</span></code> mal die Fakultät
von <code class="docutils literal notranslate"><span class="pre">n-1</span></code> zurückgegeben. Dabei muss aber zunächst diese Fakultät berechnet werden. Auf diese Weise
arbeitet man sich sukzessive zu immer kleineren Argumenten bis <code class="docutils literal notranslate"><span class="pre">n</span></code> den Wert <code class="docutils literal notranslate"><span class="pre">1</span></code> erreicht. In diesem Fall
bricht die Rekursion ab, und es wird direkt das Resultat <code class="docutils literal notranslate"><span class="pre">1</span></code> zurückgegeben. Nachdem dieser Wert erhalten
wurde, können sukzessive die Resultate der einzelnen Funktionsaufrufe bestimmt werden bis am Ende das
gewünschte Ergebnis erhalten wird. Diesen Vorgang werden wir gleich noch etwas genauer veranschaulichen.</p>
<p>Zuvor wollen wir aber noch darauf hinweisen, dass unsere Funktion noch eine Fehlerbehandlung
durchführt, die verhindert, dass die Rekursion nie zu Ende kommt. Sollte das Argument <code class="docutils literal notranslate"><span class="pre">n</span></code> nämlich
kleiner gleich Null sein oder keine ganze Zahl sein, würde man nie die Abbruchbedingung erreichen,
bei der <code class="docutils literal notranslate"><span class="pre">n</span></code> gleich Eins ist.  Damit wären wir in einer Endlosschleife gefangen. Bei rekursiven
Funktionen ist es also immer essentiell wichtig, darauf zu achten, dass die Abbruchbedingung korrekt
implementiert ist.</p>
<div class="admonition-maximale-rekursionstiefe-in-python admonition">
<p class="admonition-title">Maximale Rekursionstiefe in Python</p>
<p>In Python ist die Rekursionstiefe standardmäßig auf 1000 begrenzt, wie sich mit Hilfe von
<code class="xref py py-func docutils literal notranslate"><span class="pre">sys.getrecursionlimit()</span></code> verifizieren lässt. Damit ist einerseits die Gefahr von Endlosschleifen
etwas entschärft. In unserem Beispiel wäre aber die Größe des Arguments <code class="docutils literal notranslate"><span class="pre">n</span></code> dadurch begrenzt. Bei
Bedarf lässt sich die maximale Rekursionstiefe mit <code class="xref py py-func docutils literal notranslate"><span class="pre">sys.setrecursionlimit()</span></code> anpassen. Zuvor
sollte man aber sicherstellen, dass die Abbruchbedingung für die Rekursion tatsächlich korrekt
funktioniert.</p>
</div>
<p>Um den Ablauf der Rekursion zu veranschaulichen, modifizieren wir unser Programm noch ein klein
wenig.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>def fakultaet_rekursiv(n):
    print(f&quot;** Aufruf mit Argument {n = }&quot;)
    if n &gt; 1:
        ergebnis = n*fakultaet_rekursiv(n-1)
        print(f&quot;-&gt; {n}! = {ergebnis}&quot;)
        return ergebnis
    elif n == 1:
        ergebnis = 1
        print(f&quot;-&gt; {n}! = {ergebnis}&quot;)
        return ergebnis
    else:
        raise ValueError(&quot;Das Argument muss größer gleich Eins sein.&quot;)

fakultaet_rekursiv(5)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>** Aufruf mit Argument n = 5
** Aufruf mit Argument n = 4
** Aufruf mit Argument n = 3
** Aufruf mit Argument n = 2
** Aufruf mit Argument n = 1
-&gt; 1! = 1
-&gt; 2! = 2
-&gt; 3! = 6
-&gt; 4! = 24
-&gt; 5! = 120
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>120
</pre></div>
</div>
</div>
</div>
<p>Hier wird deutlich, wie zunächst nacheinander die Funktion mit fallenden Argumenten aufgerufen
wird und dann sukzessive die Resultate aufgebaut werden, nachdem das Ende der Rekursion
erreicht wurde.</p>
</section>
<section id="funktionen-als-burger-erster-klasse">
<span id="fccfunc"></span><h2><span class="section-number">5.5. </span>Funktionen als Bürger erster Klasse<a class="headerlink" href="#funktionen-als-burger-erster-klasse" title="Link zu dieser Überschrift">#</a></h2>
<aside class="margin sidebar">
<p class="sidebar-title"></p>
<div class="admonition-literaturverweis admonition">
<p class="admonition-title">Literaturverweis</p>
<p>Das Konzept von Objekten oder Bürgern erster Klasse wurde im Zusammenhang mit Programmiersprachen
1967 von Christopher Strachey eingeführt: C. Strachey, <a class="reference external" href="https://doi.org/10.1023/A:1010000313106">Higher-order Symb. Comput. <em>13</em>, 11
(2000)</a></p>
</div>
</aside>
<p>In diesem Kapitel haben wir bis jetzt Funktionen definiert und diese aufgerufen. Die Funktion
wurde dann ausgeführt, und wir haben ein Ergebnis erhalten. Diese Möglichkeiten, mit Funktionen
zu arbeiten, kann man für alle Programmiersprachen erwarten. Es gibt jedoch Programmiersprachen,
zu denen auch Python gehört, in denen mit Funktionen genauso wie mit anderen Objekten, also zum
Beispiel Variablen umgegangen werden kann. Man spricht dann davon, dass Funktionen <em>first class
citizens</em>, also Bürger erster Klasse, sind, die im Vergleich zu anderen Objekten nicht in ihren
Möglichkeiten eingeschränkt sind.</p>
<p>Was sind also die zusätzlichen Möglichkeiten, die sich daraus ergeben, dass Funktionen <em>first class
objects</em> oder <em>first class citizens</em> sind? Funktionen können dann Variablen zugewiesen werden,
sie können als Argumente an Funktionen übergeben werden oder beispielsweise auch als Elemente in
Listen auftreten. Wir wollen dies an Beispielen illustrieren.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from math import sin

funktion = sin
print(funktion(1), sin(1))
print(funktion)
print(sin)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.8414709848078965 0.8414709848078965
&lt;built-in function sin&gt;
&lt;built-in function sin&gt;
</pre></div>
</div>
</div>
</div>
<p>Hier wird der Variablen <code class="docutils literal notranslate"><span class="pre">funktion</span></code> die Sinusfunktion <code class="docutils literal notranslate"><span class="pre">sin</span></code> aus dem <code class="xref py py-mod docutils literal notranslate"><span class="pre">math</span></code>-Modul zugewiesen.
Wichtig ist an dieser Stelle, dass keine Klammer gesetzt werden, wie man es bei einem
Funktionsaufruf tun müsste. Nur dann bezieht man sich auf das Funktionsobjekt. Die Variable
<code class="docutils literal notranslate"><span class="pre">funktion</span></code> kann nun mit Argumenten genauso aufgerufen werden, wie das für <code class="docutils literal notranslate"><span class="pre">sin</span></code> möglich ist, und
wir stellen fest, dass sich erwartungsgemäß auch das gleiche Ergebnis ergibt. Übergibt man das
Funktionsobjekt, also nicht das Ergebnis einer Funktionsauswertung, an die <code class="xref py py-func docutils literal notranslate"><span class="pre">print()</span></code>-Funktion,
so wird ein beschreibender Text ausgegeben, der zeigt, dass <code class="docutils literal notranslate"><span class="pre">funktion</span></code> tatsächlich auf die
eingebaute Funktion <code class="docutils literal notranslate"><span class="pre">sin</span></code> verweist.</p>
<p>Wie schon erwähnt, können Funktionsobjekte auch als Elemente einer Liste auftreten. Dabei spielt
es keine Rolle, ob die betreffenden Funktionen importiert oder selbst definiert wurden.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from math import cos, sin

def myfunc(x):
    return x**2 - 4*x + 4

for f in [cos, sin, myfunc]:
    print(f&quot;{f.__name__:6s}: {f(1):8.6f}&quot;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>cos   : 0.540302
sin   : 0.841471
myfunc: 1.000000
</pre></div>
</div>
</div>
</div>
<p>Für die Ausgabe des Funktionsnamens haben wir uns dabei des Attributs <code class="docutils literal notranslate"><span class="pre">__name__</span></code> bedient, wobei hier
vor und nach dem Text <code class="docutils literal notranslate"><span class="pre">name</span></code> jeweils zwei Unterstriche stehen.</p>
<p>Funktionen als Argumente an andere Funktionen übergeben zu können, eröffnet interessante
Möglichkeiten. Wir wollen dies an einem Beispiel demonstrieren, das numerisch näherungsweise die
Ableitung einer Funktion an einer vorgegebenen Stelle bestimmen soll.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from math import cos, sin

def ableitung(f, x):
    h = 1e-7
    df = (f(x+h)-f(x-h))/(2*h)
    return df

print(f&quot;{ableitung(sin, 0) = }&quot;)
print(f&quot;{ableitung(cos, 0) = }&quot;)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>ableitung(sin, 0) = 0.9999999999999983
ableitung(cos, 0) = 0.0
</pre></div>
</div>
</div>
</div>
<p>Hier wird der Differenzenquotient für eine kleine, aber fest vorgegebene Schrittweite ausgewertet.
Als Argumente werden sowohl die Funktion, hier Sinus und Kosinus, sowie die Stelle, an der die
Ableitung auszuwerten ist, übergeben. Es sei noch einmal betont, dass bei der Übergabe des
Funktionsobjekts keine Klammern gesetzt werden dürfen.</p>
<p>Natürlich kann der Code für die Ableitung noch verbessert werden, zum Beispiel weil die Wahl einer
festen Schrittweite nicht unbedingt ideal ist. Immerhin kommen alle Verbesserung des Codes der
Auswertung der Ableitung von im Prinzip beliebigen Funktionen zugute. Im <a class="reference internal" href="#kwargs"><span class="std std-numref">Kapitel 5.7</span></a> werden
wir dieses Beispiel noch weiter entwickeln.</p>
</section>
<section id="lambda-funktionen">
<span id="lambdafunktionen"></span><h2><span class="section-number">5.6. </span>Lambda-Funktionen<a class="headerlink" href="#lambda-funktionen" title="Link zu dieser Überschrift">#</a></h2>
<p>Im <a class="reference internal" href="#fdef"><span class="std std-numref">Kapitel 5.1</span></a> hatten wir Beispiele für Funktionen kennengelernt, bei denen die Bestimmung der
Ergebnisses in einer einzelnen Codezeile erfolgte. Bei machen Gelegenheiten erscheint dann die
vollständige Definition einer Funktion als unnötig aufwändig. Tatsächlich erlauben es die
sogenannten Lambda-Funktionen, eine Funktion in einer einzigen Zeile zu definieren. Der Name dieser
Funktionen stammt aus dem Lambda-Kalkül, in dem die Lambda-Funktionen einen wichtige Rolle spielen.
Dies erklärt auch, warum <code class="docutils literal notranslate"><span class="pre">lambda</span></code> zu den reservierten Schlüsselwörtern in Python gehört und nicht
als Variablenname verwendet werden kann. Ein Beispiel soll die Definition einer Lambda-Funktion
illustrieren.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>quadrat = lambda x: x**2
potenz = lambda x, y: x**y
print(quadrat(9), potenz(3, 4))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>81 81
</pre></div>
</div>
</div>
</div>
<p>Nach dem Schlüsselwort <code class="docutils literal notranslate"><span class="pre">lambda</span></code> folgt ein oder mehrere Argumente gefolgt von einem Doppelpunkt.
Der letzte Ausdruck gibt an, wie der Rückgabewert zu bestimmen ist.</p>
<p>Lambda-Funktionen werden auch als anonyme Funktionen bezeichnet, da sie nicht unbedingt einen
Namen tragen müssen. Dies kann zum Beispiel dann nützlich sein, wenn das Ergebnis einer Funktion
wiederum eine Funktion sein soll. Die Funktion <code class="xref py py-func docutils literal notranslate"><span class="pre">potenz()</span></code> gibt in Abhängigkeit von dem
übergebenen Argument eine Funktion zurück, die die entsprechende Potenz eines Arguments berechnet.
So werden hier das Quadrat (<code class="docutils literal notranslate"><span class="pre">square</span></code>) und die dritte Potenz (<code class="docutils literal notranslate"><span class="pre">cubic</span></code>) mit Hilfe der einen Funktion
<code class="docutils literal notranslate"><span class="pre">potenz</span></code> definiert.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>def potenz(exponent):
    return lambda x: x**exponent

square = potenz(2)
cubic = potenz(3)
print(square(5), cubic(5))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>25 125
</pre></div>
</div>
</div>
</div>
<p>Auch bei Anwendungen der im <a class="reference internal" href="#fccfunc"><span class="std std-numref">Kapitel 5.5</span></a> definierten Ableitungsfunktion können anonyme
Funktionen nützlich sein, wenn man die Ableitung einer selbst definierten Funktion numerisch
berechnen möchte. In dem folgenden Beispiel soll die Ableitung von <span class="math notranslate nohighlight">\(f(x)=x^3\)</span> berechnet werden.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>def ableitung(f, x):
    h = 1e-7
    df = (f(x+h)-f(x-h))/(2*h)
    return df

print(ableitung(lambda x: x**3, 1))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.000000000086267
</pre></div>
</div>
</div>
</div>
<p>Die ersten vier Zeilen enthalten die bereits zuvor verwendete Ableitungsfunktion. Beim Aufruf dieser
Funktion kann das erste Argument einfach in Form einer anonymen Funktion oder Lambda-Funktion
angegeben werden, ohne dass eine separate Funktion in der üblichen Weise definiert werden müsste.
Auf diese Weise erhalten wir hier eine numerische Näherung für die Ableitung der dritten Potenz an
der Stelle <span class="math notranslate nohighlight">\(1\)</span>.</p>
</section>
<section id="schlusselworte-und-defaultwerte">
<span id="kwargs"></span><h2><span class="section-number">5.7. </span>Schlüsselworte und Defaultwerte<a class="headerlink" href="#schlusselworte-und-defaultwerte" title="Link zu dieser Überschrift">#</a></h2>
<p>Am Ende von <a class="reference internal" href="#fdef"><span class="std std-numref">Kapitel 5.1</span></a> hatten wir gezeigt, dass bei Funktionsaufrufen mit mehreren Argumenten
die Zuordnung nicht nach dem Namen erfolgt, sondern zunächst einmal nach der Position der jeweiligen
Argumente.  Dies ist jedoch insbesondere in Fällen, in denen die Argumentliste sehr lange wird,
nicht praktisch und daher gibt es auch andere Möglichkeiten, Argumente zu übergeben.  Zur
Illustration dieser Problematik stellen wir uns eine Funktion vor, die es ermöglicht, vorgegebene
Daten graphisch darzustellen. Eine solche Funktion wird typischerweise relativ viele Argumente
haben, da man beispielsweise die Strichfarbe, die Strichdicke und die Strichart festlegen möchte.
Andererseits möchte man nicht unbedingt alle Argumente explizit angeben müssen, wenn man nur eine
schwarze durchgezogene Linie mittlerer Dicke darstellen möchte. Es sollte auch nicht so sein, dass
man, nur weil man die Stichart anpassen möchte, alle anderen Argumente, die vor dem betreffenden
Argument stehen, zwingend angeben muss.</p>
<p>In einem solchen Fall ist es sinnvoll, Argumente per Schlüsselwort zu übergeben. Um das Vorgehen
zu verdeutlichen, greifen wir auf die Funktion zurück, die wir am Ende des letzten Abschnitts zur
numerischen Berechnung von Ableitungen eingeführt hatten.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>def ableitung(f, x):
    h = 1e-7
    df = (f(x+h)-f(x-h))/(2*h)
    return df
</pre></div>
</div>
</div>
</div>
<p>In dem zuvor beschriebenen Funktionsaufruf</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>ableitung(lambda x: x**3, 1)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.000000000086267
</pre></div>
</div>
</div>
</div>
<p>wird das erste Argument der Variable <code class="docutils literal notranslate"><span class="pre">f</span></code> und das zweite Argument der Variable <code class="docutils literal notranslate"><span class="pre">x</span></code> in der Funktion
zugeordnet. Alternativ kann man die Argumente mit den in der Funktion verwendeten Namen bezeichnen.
Ein mögliche Form des Funktionsaufrufs wäre dann</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>ableitung(f=lambda x: x**3, x=1)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.000000000086267
</pre></div>
</div>
</div>
</div>
<p>Hier stehen die Argumente zwar immer noch in der gleichen Reihenfolge, aber die Zuordnung erfolgt
nun über die angegebenen Bezeichner. Daher könnte man genauso gut die Reihenfolge der beiden
Argumente vertauschen.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>ableitung(x=1, f=lambda x: x**3)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.000000000086267
</pre></div>
</div>
</div>
</div>
<div class="admonition-hinweis-zur-formatierung admonition">
<p class="admonition-title">Hinweis zur Formatierung</p>
<p><span class="target" id="index-1"></span><a class="pep reference external" href="https://peps.python.org/pep-0008/"><strong>PEP 8</strong></a> empfiehlt, um Gleichheitszeichen in Zuweisungen Leerzeichen zu setzen. Anders
ist dies bei Schlüsselwortargumenten. Hier sollen um das Gleichheitszeichen keine Leerzeichen
gesetzt.</p>
</div>
<p>Beim den letzten beiden Funktionsaufrufen ist es wichtig, die verschiedenen <code class="docutils literal notranslate"><span class="pre">x</span></code> voneinander zu
unterscheiden. Die beiden <code class="docutils literal notranslate"><span class="pre">x</span></code> in der Lambdafunktion haben dabei nichts mit dem Schlüsselwort <code class="docutils literal notranslate"><span class="pre">x</span></code>
zu tun. Noch sorgfältiger muss man in dem folgenden Funktionsaufruf die verschiedenen <code class="docutils literal notranslate"><span class="pre">x</span></code>
unterscheiden.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>x = 1
ableitung(x=x, f=lambda x: x**3)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.000000000086267
</pre></div>
</div>
</div>
</div>
<p>Im Funktionsaufruf bezeichnet das erste <code class="docutils literal notranslate"><span class="pre">x</span></code> ein Schlüsselwort, das mit einem Argumentbezeichner in
der Funktionsdefinition übereinstimmen muss. Das zweite <code class="docutils literal notranslate"><span class="pre">x</span></code> verweist auf die Variable <code class="docutils literal notranslate"><span class="pre">x</span></code>, die nach
der Zuweisung in der ersten Zeile den Wert 1 besitzt. Die <code class="docutils literal notranslate"><span class="pre">x</span></code> im zweiten Argument bezeichnen eine
lokale Variable in der Lambdafunktion und haben nichts mit dem beiden <code class="docutils literal notranslate"><span class="pre">x</span></code> im ersten Argument zu tun.</p>
<p>Gerade bei längeren Argumentlisten kann es sinnvoll sein, einen Teil der Argumente über ihre
Position in der Liste zuzuordnen und andere Argumente über das zugehörige Schlüsselwort. In einem
solchen Fall müssen die Argumente mit Schlüsselwort zwingend hinter den Argumenten kommen, die über
ihre Position zugeordnet werden. Andernfalls könnten die Argumente im Allgemeinen nicht
zweifelsfrei zugeordnet werden.</p>
<p>Ein Nachteil unserer Ableitungsfunktion, wie sie momentan implementiert ist, besteht darin, dass die
Schrittweite <code class="docutils literal notranslate"><span class="pre">h</span></code> in der Funktion fest vorgegeben ist. Der Wert von <span class="math notranslate nohighlight">\(10^{-7}\)</span> mag zwar vernünftig
gewählt sein, aber es wäre sinnvoll, wenn man diesen Wert bei Bedarf anpassen könnte. In einem
solchen Fall ist es möglich, einen so genannten Defaultwert zu definieren, der dann zum Tragen
kommt, wenn nichts anderes gesagt wird. Ein verbesserte Variante der Ableitungsfunktion könnte also
wie folgt aussehen.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>def ableitung(f, x, h=1e-7):
    df = (f(x+h)-f(x-h))/(2*h)
    return df
</pre></div>
</div>
</div>
</div>
<p>Diese Funktion kann nun in verschiedener Weise aufgerufen werden. Zum einen können wir die früheren
Aufrufe übernehmen, wobei dann der Wert für <code class="docutils literal notranslate"><span class="pre">h</span></code> gleich dem angegebenen Defaultwert ist. Python wird
sich also nicht darüber beschweren, dass <code class="docutils literal notranslate"><span class="pre">h</span></code> nicht definiert sei.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>ableitung(lambda x: x**3, 1)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.000000000086267
</pre></div>
</div>
</div>
</div>
<p>Man kann aber auch den Wert von <code class="docutils literal notranslate"><span class="pre">h</span></code> vorgeben.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>for n in range(1, 8):
    print(ableitung(lambda x: x**3, 1, 10**-n))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.0100000000000016
3.0001000000000055
3.0000009999998634
3.0000000099994484
3.000000000097369
2.9999999999197335
3.000000000086267
</pre></div>
</div>
</div>
</div>
<p>In diesem Fall werden die Argumente über ihre Position übergeben. Natürlich könnte man stattdessen
auch Schlüsselwortargumente verwenden, zum Beispiel in der Form</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>for n in range(1, 8):
    print(ableitung(lambda x: x**3, h=10**-n, x=1))
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.0100000000000016
3.0001000000000055
3.0000009999998634
3.0000000099994484
3.000000000097369
2.9999999999197335
3.000000000086267
</pre></div>
</div>
</div>
</div>
<p>Es sei noch einmal betont, dass in diesem Fall das Schlüsselwort <code class="docutils literal notranslate"><span class="pre">x</span></code> im letzten Argument nicht
entfallen kann, da sonst die Zuordnung nicht eindeutig ist.</p>
<div class="cell tag_raises-exception docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>ableitung(lambda x: x**3, h=10**-n, 1)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output traceback highlight-ipythontb notranslate"><div class="highlight"><pre><span></span>  <span class="n">Cell</span> <span class="n">In</span><span class="p">[</span><span class="mi">32</span><span class="p">],</span> <span class="n">line</span> <span class="mi">1</span>
    <span class="n">ableitung</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="o">**</span><span class="mi">3</span><span class="p">,</span> <span class="n">h</span><span class="o">=</span><span class="mi">10</span><span class="o">**-</span><span class="n">n</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
                                         <span class="o">^</span>
<span class="ne">SyntaxError</span>: positional argument follows keyword argument
</pre></div>
</div>
</div>
</div>
<p>Abschließend sehen wir uns zur Illustration noch ein Beispiel aus der
Scipy-Bibliothek an, auf die wir im <a class="reference internal" href="scipy.html#scipy"><span class="std std-numref">Kapitel 8</span></a> einen Blick werfen
werden. Diese Bibliothek stellt neben vielem anderem eine Funktion zur
numerischen Integration zur Verfügung, die 14 Argumente besitzt. Die ersten
drei Argumente werden typischerweise über ihre Position übergeben, was sich
unter anderem daraus ergibt, dass es sich hierbei um essentielle Argumente wie
den Integranden und die Integrationsgrenzen handelt. Für diese Argumente gibt
es keine sinnvollen Defaultwerte. Anders ist dies bei den restlichen elf
Argumenten, für die Defaultwerte definiert sind, die bei Bedarf abgeändert
werden können. Da diese Argumente mit Hilfe der Namen übergeben werden können,
ist es problemlos möglich, nur eines der Argumente zu modifizieren ohne
die in der Argumentliste davor stehenden Argumente angeben zu müssen.</p>
<div class="cell tag_output_scroll docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span>from scipy import integrate
help(integrate.quad)
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Help on function quad in module scipy.integrate._quadpack_py:

quad(func, a, b, args=(), full_output=0, epsabs=1.49e-08, epsrel=1.49e-08, limit=50, points=None, weight=None, wvar=None, wopts=None, maxp1=50, limlst=50)
    Compute a definite integral.
    
    Integrate func from `a` to `b` (possibly infinite interval) using a
    technique from the Fortran library QUADPACK.
    
    Parameters
    ----------
    func : {function, scipy.LowLevelCallable}
        A Python function or method to integrate. If `func` takes many
        arguments, it is integrated along the axis corresponding to the
        first argument.
    
        If the user desires improved integration performance, then `f` may
        be a `scipy.LowLevelCallable` with one of the signatures::
    
            double func(double x)
            double func(double x, void *user_data)
            double func(int n, double *xx)
            double func(int n, double *xx, void *user_data)
    
        The ``user_data`` is the data contained in the `scipy.LowLevelCallable`.
        In the call forms with ``xx``,  ``n`` is the length of the ``xx``
        array which contains ``xx[0] == x`` and the rest of the items are
        numbers contained in the ``args`` argument of quad.
    
        In addition, certain ctypes call signatures are supported for
        backward compatibility, but those should not be used in new code.
    a : float
        Lower limit of integration (use -numpy.inf for -infinity).
    b : float
        Upper limit of integration (use numpy.inf for +infinity).
    args : tuple, optional
        Extra arguments to pass to `func`.
    full_output : int, optional
        Non-zero to return a dictionary of integration information.
        If non-zero, warning messages are also suppressed and the
        message is appended to the output tuple.
    
    Returns
    -------
    y : float
        The integral of func from `a` to `b`.
    abserr : float
        An estimate of the absolute error in the result.
    infodict : dict
        A dictionary containing additional information.
    message
        A convergence message.
    explain
        Appended only with &#39;cos&#39; or &#39;sin&#39; weighting and infinite
        integration limits, it contains an explanation of the codes in
        infodict[&#39;ierlst&#39;]
    
    Other Parameters
    ----------------
    epsabs : float or int, optional
        Absolute error tolerance. Default is 1.49e-8. `quad` tries to obtain
        an accuracy of ``abs(i-result) &lt;= max(epsabs, epsrel*abs(i))``
        where ``i`` = integral of `func` from `a` to `b`, and ``result`` is the
        numerical approximation. See `epsrel` below.
    epsrel : float or int, optional
        Relative error tolerance. Default is 1.49e-8.
        If ``epsabs &lt;= 0``, `epsrel` must be greater than both 5e-29
        and ``50 * (machine epsilon)``. See `epsabs` above.
    limit : float or int, optional
        An upper bound on the number of subintervals used in the adaptive
        algorithm.
    points : (sequence of floats,ints), optional
        A sequence of break points in the bounded integration interval
        where local difficulties of the integrand may occur (e.g.,
        singularities, discontinuities). The sequence does not have
        to be sorted. Note that this option cannot be used in conjunction
        with ``weight``.
    weight : float or int, optional
        String indicating weighting function. Full explanation for this
        and the remaining arguments can be found below.
    wvar : optional
        Variables for use with weighting functions.
    wopts : optional
        Optional input for reusing Chebyshev moments.
    maxp1 : float or int, optional
        An upper bound on the number of Chebyshev moments.
    limlst : int, optional
        Upper bound on the number of cycles (&gt;=3) for use with a sinusoidal
        weighting and an infinite end-point.
    
    See Also
    --------
    dblquad : double integral
    tplquad : triple integral
    nquad : n-dimensional integrals (uses `quad` recursively)
    fixed_quad : fixed-order Gaussian quadrature
    quadrature : adaptive Gaussian quadrature
    odeint : ODE integrator
    ode : ODE integrator
    simpson : integrator for sampled data
    romb : integrator for sampled data
    scipy.special : for coefficients and roots of orthogonal polynomials
    
    Notes
    -----
    
    **Extra information for quad() inputs and outputs**
    
    If full_output is non-zero, then the third output argument
    (infodict) is a dictionary with entries as tabulated below. For
    infinite limits, the range is transformed to (0,1) and the
    optional outputs are given with respect to this transformed range.
    Let M be the input argument limit and let K be infodict[&#39;last&#39;].
    The entries are:
    
    &#39;neval&#39;
        The number of function evaluations.
    &#39;last&#39;
        The number, K, of subintervals produced in the subdivision process.
    &#39;alist&#39;
        A rank-1 array of length M, the first K elements of which are the
        left end points of the subintervals in the partition of the
        integration range.
    &#39;blist&#39;
        A rank-1 array of length M, the first K elements of which are the
        right end points of the subintervals.
    &#39;rlist&#39;
        A rank-1 array of length M, the first K elements of which are the
        integral approximations on the subintervals.
    &#39;elist&#39;
        A rank-1 array of length M, the first K elements of which are the
        moduli of the absolute error estimates on the subintervals.
    &#39;iord&#39;
        A rank-1 integer array of length M, the first L elements of
        which are pointers to the error estimates over the subintervals
        with ``L=K`` if ``K&lt;=M/2+2`` or ``L=M+1-K`` otherwise. Let I be the
        sequence ``infodict[&#39;iord&#39;]`` and let E be the sequence
        ``infodict[&#39;elist&#39;]``.  Then ``E[I[1]], ..., E[I[L]]`` forms a
        decreasing sequence.
    
    If the input argument points is provided (i.e., it is not None),
    the following additional outputs are placed in the output
    dictionary. Assume the points sequence is of length P.
    
    &#39;pts&#39;
        A rank-1 array of length P+2 containing the integration limits
        and the break points of the intervals in ascending order.
        This is an array giving the subintervals over which integration
        will occur.
    &#39;level&#39;
        A rank-1 integer array of length M (=limit), containing the
        subdivision levels of the subintervals, i.e., if (aa,bb) is a
        subinterval of ``(pts[1], pts[2])`` where ``pts[0]`` and ``pts[2]``
        are adjacent elements of ``infodict[&#39;pts&#39;]``, then (aa,bb) has level l
        if ``|bb-aa| = |pts[2]-pts[1]| * 2**(-l)``.
    &#39;ndin&#39;
        A rank-1 integer array of length P+2. After the first integration
        over the intervals (pts[1], pts[2]), the error estimates over some
        of the intervals may have been increased artificially in order to
        put their subdivision forward. This array has ones in slots
        corresponding to the subintervals for which this happens.
    
    **Weighting the integrand**
    
    The input variables, *weight* and *wvar*, are used to weight the
    integrand by a select list of functions. Different integration
    methods are used to compute the integral with these weighting
    functions, and these do not support specifying break points. The
    possible values of weight and the corresponding weighting functions are.
    
    ==========  ===================================   =====================
    ``weight``  Weight function used                  ``wvar``
    ==========  ===================================   =====================
    &#39;cos&#39;       cos(w*x)                              wvar = w
    &#39;sin&#39;       sin(w*x)                              wvar = w
    &#39;alg&#39;       g(x) = ((x-a)**alpha)*((b-x)**beta)   wvar = (alpha, beta)
    &#39;alg-loga&#39;  g(x)*log(x-a)                         wvar = (alpha, beta)
    &#39;alg-logb&#39;  g(x)*log(b-x)                         wvar = (alpha, beta)
    &#39;alg-log&#39;   g(x)*log(x-a)*log(b-x)                wvar = (alpha, beta)
    &#39;cauchy&#39;    1/(x-c)                               wvar = c
    ==========  ===================================   =====================
    
    wvar holds the parameter w, (alpha, beta), or c depending on the weight
    selected. In these expressions, a and b are the integration limits.
    
    For the &#39;cos&#39; and &#39;sin&#39; weighting, additional inputs and outputs are
    available.
    
    For finite integration limits, the integration is performed using a
    Clenshaw-Curtis method which uses Chebyshev moments. For repeated
    calculations, these moments are saved in the output dictionary:
    
    &#39;momcom&#39;
        The maximum level of Chebyshev moments that have been computed,
        i.e., if ``M_c`` is ``infodict[&#39;momcom&#39;]`` then the moments have been
        computed for intervals of length ``|b-a| * 2**(-l)``,
        ``l=0,1,...,M_c``.
    &#39;nnlog&#39;
        A rank-1 integer array of length M(=limit), containing the
        subdivision levels of the subintervals, i.e., an element of this
        array is equal to l if the corresponding subinterval is
        ``|b-a|* 2**(-l)``.
    &#39;chebmo&#39;
        A rank-2 array of shape (25, maxp1) containing the computed
        Chebyshev moments. These can be passed on to an integration
        over the same interval by passing this array as the second
        element of the sequence wopts and passing infodict[&#39;momcom&#39;] as
        the first element.
    
    If one of the integration limits is infinite, then a Fourier integral is
    computed (assuming w neq 0). If full_output is 1 and a numerical error
    is encountered, besides the error message attached to the output tuple,
    a dictionary is also appended to the output tuple which translates the
    error codes in the array ``info[&#39;ierlst&#39;]`` to English messages. The
    output information dictionary contains the following entries instead of
    &#39;last&#39;, &#39;alist&#39;, &#39;blist&#39;, &#39;rlist&#39;, and &#39;elist&#39;:
    
    &#39;lst&#39;
        The number of subintervals needed for the integration (call it ``K_f``).
    &#39;rslst&#39;
        A rank-1 array of length M_f=limlst, whose first ``K_f`` elements
        contain the integral contribution over the interval
        ``(a+(k-1)c, a+kc)`` where ``c = (2*floor(|w|) + 1) * pi / |w|``
        and ``k=1,2,...,K_f``.
    &#39;erlst&#39;
        A rank-1 array of length ``M_f`` containing the error estimate
        corresponding to the interval in the same position in
        ``infodict[&#39;rslist&#39;]``.
    &#39;ierlst&#39;
        A rank-1 integer array of length ``M_f`` containing an error flag
        corresponding to the interval in the same position in
        ``infodict[&#39;rslist&#39;]``.  See the explanation dictionary (last entry
        in the output tuple) for the meaning of the codes.
    
    
    **Details of QUADPACK level routines**
    
    `quad` calls routines from the FORTRAN library QUADPACK. This section
    provides details on the conditions for each routine to be called and a
    short description of each routine. The routine called depends on
    `weight`, `points` and the integration limits `a` and `b`.
    
    ================  ==============  ==========  =====================
    QUADPACK routine  `weight`        `points`    infinite bounds
    ================  ==============  ==========  =====================
    qagse             None            No          No
    qagie             None            No          Yes
    qagpe             None            Yes         No
    qawoe             &#39;sin&#39;, &#39;cos&#39;    No          No
    qawfe             &#39;sin&#39;, &#39;cos&#39;    No          either `a` or `b`
    qawse             &#39;alg*&#39;          No          No
    qawce             &#39;cauchy&#39;        No          No
    ================  ==============  ==========  =====================
    
    The following provides a short desciption from [1]_ for each
    routine.
    
    qagse
        is an integrator based on globally adaptive interval
        subdivision in connection with extrapolation, which will
        eliminate the effects of integrand singularities of
        several types.
    qagie
        handles integration over infinite intervals. The infinite range is
        mapped onto a finite interval and subsequently the same strategy as
        in ``QAGS`` is applied.
    qagpe
        serves the same purposes as QAGS, but also allows the
        user to provide explicit information about the location
        and type of trouble-spots i.e. the abscissae of internal
        singularities, discontinuities and other difficulties of
        the integrand function.
    qawoe
        is an integrator for the evaluation of
        :math:`\int^b_a \cos(\omega x)f(x)dx` or
        :math:`\int^b_a \sin(\omega x)f(x)dx`
        over a finite interval [a,b], where :math:`\omega` and :math:`f`
        are specified by the user. The rule evaluation component is based
        on the modified Clenshaw-Curtis technique
    
        An adaptive subdivision scheme is used in connection
        with an extrapolation procedure, which is a modification
        of that in ``QAGS`` and allows the algorithm to deal with
        singularities in :math:`f(x)`.
    qawfe
        calculates the Fourier transform
        :math:`\int^\infty_a \cos(\omega x)f(x)dx` or
        :math:`\int^\infty_a \sin(\omega x)f(x)dx`
        for user-provided :math:`\omega` and :math:`f`. The procedure of
        ``QAWO`` is applied on successive finite intervals, and convergence
        acceleration by means of the :math:`\varepsilon`-algorithm is applied
        to the series of integral approximations.
    qawse
        approximate :math:`\int^b_a w(x)f(x)dx`, with :math:`a &lt; b` where
        :math:`w(x) = (x-a)^{\alpha}(b-x)^{\beta}v(x)` with
        :math:`\alpha,\beta &gt; -1`, where :math:`v(x)` may be one of the
        following functions: :math:`1`, :math:`\log(x-a)`, :math:`\log(b-x)`,
        :math:`\log(x-a)\log(b-x)`.
    
        The user specifies :math:`\alpha`, :math:`\beta` and the type of the
        function :math:`v`. A globally adaptive subdivision strategy is
        applied, with modified Clenshaw-Curtis integration on those
        subintervals which contain `a` or `b`.
    qawce
        compute :math:`\int^b_a f(x) / (x-c)dx` where the integral must be
        interpreted as a Cauchy principal value integral, for user specified
        :math:`c` and :math:`f`. The strategy is globally adaptive. Modified
        Clenshaw-Curtis integration is used on those intervals containing the
        point :math:`x = c`.
    
    References
    ----------
    
    .. [1] Piessens, Robert; de Doncker-Kapenga, Elise;
           Überhuber, Christoph W.; Kahaner, David (1983).
           QUADPACK: A subroutine package for automatic integration.
           Springer-Verlag.
           ISBN 978-3-540-12553-2.
    
    Examples
    --------
    Calculate :math:`\int^4_0 x^2 dx` and compare with an analytic result
    
    &gt;&gt;&gt; from scipy import integrate
    &gt;&gt;&gt; x2 = lambda x: x**2
    &gt;&gt;&gt; integrate.quad(x2, 0, 4)
    (21.333333333333332, 2.3684757858670003e-13)
    &gt;&gt;&gt; print(4**3 / 3.)  # analytical result
    21.3333333333
    
    Calculate :math:`\int^\infty_0 e^{-x} dx`
    
    &gt;&gt;&gt; invexp = lambda x: np.exp(-x)
    &gt;&gt;&gt; integrate.quad(invexp, 0, np.inf)
    (1.0, 5.842605999138044e-11)
    
    Calculate :math:`\int^1_0 a x \,dx` for :math:`a = 1, 3`
    
    &gt;&gt;&gt; f = lambda x, a: a*x
    &gt;&gt;&gt; y, err = integrate.quad(f, 0, 1, args=(1,))
    &gt;&gt;&gt; y
    0.5
    &gt;&gt;&gt; y, err = integrate.quad(f, 0, 1, args=(3,))
    &gt;&gt;&gt; y
    1.5
    
    Calculate :math:`\int^1_0 x^2 + y^2 dx` with ctypes, holding
    y parameter as 1::
    
        testlib.c =&gt;
            double func(int n, double args[n]){
                return args[0]*args[0] + args[1]*args[1];}
        compile to library testlib.*
    
    ::
    
       from scipy import integrate
       import ctypes
       lib = ctypes.CDLL(&#39;/home/.../testlib.*&#39;) #use absolute path
       lib.func.restype = ctypes.c_double
       lib.func.argtypes = (ctypes.c_int,ctypes.c_double)
       integrate.quad(lib.func,0,1,(1))
       #(1.3333333333333333, 1.4802973661668752e-14)
       print((1.0**3/3.0 + 1.0) - (0.0**3/3.0 + 0.0)) #Analytic result
       # 1.3333333333333333
    
    Be aware that pulse shapes and other sharp features as compared to the
    size of the integration interval may not be integrated correctly using
    this method. A simplified example of this limitation is integrating a
    y-axis reflected step function with many zero values within the integrals
    bounds.
    
    &gt;&gt;&gt; y = lambda x: 1 if x&lt;=0 else 0
    &gt;&gt;&gt; integrate.quad(y, -1, 1)
    (1.0, 1.1102230246251565e-14)
    &gt;&gt;&gt; integrate.quad(y, -1, 100)
    (1.0000000002199108, 1.0189464580163188e-08)
    &gt;&gt;&gt; integrate.quad(y, -1, 10000)
    (0.0, 0.0)
</pre></div>
</div>
</div>
</div>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            </main>
            <footer class="footer-article noprint">
                
    <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="kontrollstrukturen.html" title="zurück Seite">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">zurück</p>
            <p class="prev-next-title"><span class="section-number">4. </span>Kontrollstrukturen</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="sequenzen.html" title="weiter Seite">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">weiter</p>
        <p class="prev-next-title"><span class="section-number">6. </span>Zusammengesetzte Datentypen</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            </footer>
        </div>
    </div>
    <div class="footer-content row">
        <footer class="col footer"><p>
  
    By Gert-Ludwig Ingold<br/>
  
      &copy; Copyright CC-BY.<br/>
</p>
        </footer>
    </div>
    
</div>


      </div>
    </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>


  </body>
</html>